<!-- <section class="sub-header" style="background-color: #E8E6DF;background-image: unset;">

</section> -->
<!-- <app-loader [show]="loading"></app-loader> -->
<!-- <section  style="background-color: #E8E6DF;padding: 30px 0px;">
  <div class="container">
    <div class="row">
      <div class="col-xl-12">
        <h2 class="commonHeading" style="font-weight: normal;">Workspace</h2>
      </div>
    </div>
  </div>
</section> -->
<app-sub-header
      >
    </app-sub-header>
<section style="background-color: #fff;" class="lpBAck">
  <section class="lpSecOne ">
    <div class="container ">

      <div class="row ">
        <div class="col-xl-3 col-md-3 pt-2 customToggle pt-5 animate__animated animate__fadeIn animate__delay-2s" style="background-color: #F8F8F5;">
          <!-- Add custom toggle start -->

          <!-- Add custom toggle end -->
          <div class="pb-5 pl-12">
            <h2 class="commonHeading main-title">
              Workspace
            </h2>
          </div>
          <div *ngIf="!isExternalView" class="tree">
            <ul style="list-style: none" class="leftPanel">
              <li
                *ngFor="let item of folderStructure; let i = index"
                style="cursor: pointer"
              >
                <div
                  class="d-flex set"
                  [ngClass]="selectedFolder2?.uid === item.uid && !isTrashView ? 'active-tab' : ''"
                  (click)="
                    fetchAllSectors(item.isExpand);
                    selectedFolder2 = item;
                    selectedFolder = item;
                    createBreadCrumb(item.title, item.type, item.path)
                  "
                >
                  <div style="z-index: 9">
                    <img
                      src="../../../assets/images/down-arrow.svg"
                      height="9px"
                      *ngIf="item.isExpand"
                    />
                    <img
                      src="../../../assets/images/left-arrow.svg"
                      height="14px"
                      *ngIf="!item.isExpand"
                    />
                  </div>
                  <span style="padding-left: 10px; z-index: 9">{{
                    item.title
                  }}</span>
                </div>
                <ul
                  *ngIf="item.children?.length && item.isExpand"
                  class="leftPanel insideScroll"
                  id="customScrollBar"
                >
                  <li
                    *ngFor="let firstChild of item.children; let fIndex = index"
                    style="cursor: pointer"
                    class="hoverPin"
                  >
                    <div
                      class="d-flex set paddingLeft"
                      [ngClass]="
                        sectorSelected?.uid === firstChild.uid && !isTrashView
                          ? 'active-tab'
                          : ''
                      "
                      (click)="
                        handleGotoBreadcrumb(firstChild, fIndex);
                        selectedFolder2 = firstChild;
                        selectedFolder = firstChild;
                        sectorSelected = firstChild;
                        closeOtherSectore(firstChild, item.children)
                      "
                    >
                      <!-- <div style="z-index: 9;"> -->

                      <!-- <img src="../../../assets/images/down-arrow.svg" height="9px" *ngIf="firstChild.isExpand" />
                          <img src="../../../assets/images/left-arrow.svg" height="14px" *ngIf="!firstChild.isExpand"/> -->

                      <!-- </div> -->
                      <!-- <div class="hoverTooltip">Pin this sector</div> -->
                      <span style="padding-left: 10px; z-index: 9">
                        <a
                          [routerLink]="['/workspace']"
                          [queryParams]="{ folder: firstChild.uid }"
                          class="blackTetx"
                        >
                          {{ firstChild.title }}
                        </a>
                      </span>
                      <!--  class="pinIcon" -->
                    </div>
                  </li>
                </ul>
              </li>
              <li
                style="cursor: pointer"
                [ngClass]="isTrashView ? 'active-tab' : ''"
                class="d-flex set"
                (click)="getTrashedWS()"
              >
                <span>Trash</span>
              </li>
            </ul>
          </div>
          <div *ngIf="isExternalView" class="tree">
            <ul style="list-style: none" class="leftPanel">
              <li
                style="cursor: pointer"
                [ngClass]="isExternalView ? 'active-tab' : ''"
                class="d-flex set"
                (click)="fetchAllPrivateWorkspaces()"
              >
                <span>Shared Folders</span>
              </li>
            </ul>
          </div>
          <!-- </div> -->
        </div>
        <div
          class="col-xl-9 col-md-9 pl-5 pt-5 pb-5 bg-white positionRelative"
          style="min-height: 100vh"
        >
          <app-loader [show]="loading"></app-loader>
          <div class="no-items" *ngIf="folderNotFound">
            <img
              src="../../../assets/images/folder-delete-icon.svg"
              alt="This folder has been deleted"
            />
            This folder has been deleted
          </div>

          <div *ngIf="selectedFolder && !folderNotFound" [ngClass]="{ 'animate__animated animate__fadeIn': showSearchbar }" style="position: relative; z-index: 1;">
            
            <div class="row">
              <div class="col-xl-7">
                <div *ngIf="showSearchbar && !folderNotFound" class="pb-30">
                  <div style="position: relative;">
                    <form autocomplete="off" style="position: relative;">
                      <button class="primary search-btn"><img src="../../../assets/images/search.png" /></button>
                      <input #workspaceSearch [(ngModel)]="searchBarValue" name="searchBar" (focus)="initWorkspaceSearch()" type="text" [placeholder]="getSearchPlaceholder()" class="search-bar" autocomplete="off"> <!--[(ngModel)]="searchBarValue" (ngModelChange)="searchFolders($event)"-->
                      <img *ngIf="searchBarValue"  style="cursor: pointer" (click)="searchBarValue = ''; getWorkspaceFolders(selectedFolder.uid, 1)" src="../assets/images/circle-close.png" class="placeholder-search">
                    </form>
                  </div>
                </div>
              </div>
              <div class="col-xl-5">
                <div style="float: right; position: relative">
                  <div class="deleted-by-me" *ngIf="isTrashView">
                    <label
                      class="control control--checkbox"
                      style="margin-bottom: 0px; float: left"
                    >
                      Only show items removed by me
                      <input
                        type="checkbox"
                        checked="checked"
                        (click)="myDeleted($event)"
                      />
                      <div
                        class="control__indicator"
                        style="top: 0px; left: 0px"
                      ></div>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div *ngIf="selectedFolder && !folderNotFound" class="main-content" [ngClass]="{ 'animate__animated animate__fadeIn': showSearchbar }" style="position: relative; z-index: 1;">
            <div
              class="header-content"
              *ngIf="!isTrashView"
              style="width: 100%"
            >
              <div *ngIf="selectedFolder2?.uid !== parentId" style="width: 100%">
                <!-- <button mat-raised-button
                  matTooltip="{{sharedService.stringShortener(selectedFolder?.title, 1000)}}"
                  aria-label="Button that displays a tooltip when focused or hovered over">
                  {{sharedService.stringShortener(selectedFolder?.title, 30)}}
                </button> -->
                <span class="customWidth">
                  <span class="main-title" *ngIf="!renameFolderName">
                    <span class="tollTipCustom">
                      {{sharedService.stringShortener(selectedFolder?.title, 28)}}
                      <div class="tolltipContent">
                        {{selectedFolder?.title}}
                      </div>
                    </span>
                    <svg *ngIf="showLinkCopy && !checkGeneralFolder(selectedFolder) && !checkExternalUser()" class="renameFolderImg" (click)="renameFolderAction()"
                      width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M6.16778 20.2612L1 21.0004L1.73786 15.8313L15.0276 2.54149C16.2509 1.3182 18.2343 1.3182 19.4576 2.54149C20.6808 3.76478 20.6808 5.74812 19.4576 6.97141L6.16778 20.2612Z" stroke="#937206" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M13.5508 4.01904L17.9807 8.44897" stroke="#937206" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <!-- <img src="../../../assets/images/pencil-write.svg" alt="" *ngIf="showLinkCopy" class="renameFolderImg" (click)="renameFolderAction()" /> -->
                    <span *ngIf="showLinkCopy" style="display: inline-block; margin-left: 10px; vertical-align: top; position: relative;">
                      <div class="publicUseBlock">
                        <div *ngIf="isPrivateFolder(true, true)" class="publicUseBlk">Private</div>
                        <div class="mouseHoverInfo">
                          <p>You can collaborate with specified users privately. You can invite users to a private folder after you have created it.</p>
                          <div (click)="openAddUserModal()" [ngClass]="isAdmin ? 'manageAccessBtn' : 'manageAccessBtn-disabled'">
                            Manage access
                          </div>
                        </div>
                      </div>
                    </span>
                  </span>
                  <span *ngIf="renameFolderName && showLinkCopy" style="display: flex; align-items: center;">
                    <label class="input-sizer customRenameBlock">
                      <input type="text"
                      value="{{sharedService.stringShortener(selectedFolder?.title, 28)}}"
                      [(ngModel)]="newTitle"
                      (keyup.enter)="renameFolder()" autocomplete="off"
                      onInput="this.parentNode.dataset.value = this.value" placeholder="{{sharedService.stringShortener(selectedFolder?.title, 28)}}">
                    </label>
                    <div class="actionIcon">
                      <svg
                        width="18"
                        height="13"
                        viewBox="0 0 18 13"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                        (click)="renameFolder()"
                      >
                        <path
                          d="M6.99974 10.172L16.1917 0.979004L17.6067 2.393L6.99974 13L0.635742 6.636L2.04974 5.222L6.99974 10.172Z"
                          fill="#DAAA00"
                        />
                      </svg>
                    </div>
                    <div class="actionIcon">
                      <svg
                        width="14"
                        height="14"
                        viewBox="0 0 14 14"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                        (click)="updateFolderAction()"
                      >
                        <path
                          d="M6.99974 5.58623L11.9497 0.63623L13.3637 2.05023L8.41374 7.00023L13.3637 11.9502L11.9497 13.3642L6.99974 8.41423L2.04974 13.3642L0.635742 11.9502L5.58574 7.00023L0.635742 2.05023L2.04974 0.63623L6.99974 5.58623Z"
                          fill="#DAAA00"
                        />
                      </svg>
                    </div>
                  </span>
                </span>
                <div class="manageAccess">
                  <ul style="float: right;">
                    <!-- <li *ngIf="isPrivateFolder()" class="tollTipWorkspace" (click)="openManageAccessModal()">
                      <svg width="22" height="22" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="classificationsIcon">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M14.183 4.04752C14.6469 4.56246 15.3074 4.85645 16.0005 4.85645C16.6936 4.85645 17.3541 4.56246 17.818 4.04752L19.0005 2.75002C19.6949 1.98145 20.7979 1.73297 21.7548 2.1295C22.7117 2.52603 23.3157 3.48177 23.263 4.51627L23.1742 6.26627C23.1395 6.95661 23.3983 7.62945 23.8867 8.11856C24.3751 8.60768 25.0476 8.86748 25.738 8.83377L27.488 8.74502C28.5218 8.69406 29.476 9.29859 29.8715 10.2551C30.267 11.2116 30.0184 12.3135 29.2505 13.0075L27.948 14.1825C27.4337 14.647 27.1402 15.3076 27.1402 16.0006C27.1402 16.6937 27.4337 17.3543 27.948 17.8188L29.2505 18.9938C30.0191 19.6882 30.2675 20.7911 29.871 21.7481C29.4745 22.705 28.5187 23.309 27.4842 23.2563L25.7342 23.1675C25.0423 23.1319 24.3678 23.3913 23.8779 23.8811C23.388 24.371 23.1286 25.0456 23.1642 25.7375L23.253 27.4875C23.2988 28.5166 22.6958 29.4643 21.7442 29.8587C20.7927 30.2531 19.696 30.0098 19.0005 29.25L17.8242 27.9488C17.3599 27.4346 16.6996 27.1411 16.0067 27.1411C15.3139 27.1411 14.6535 27.4346 14.1892 27.9488L13.008 29.25C12.3135 30.0134 11.2149 30.2594 10.2612 29.8652C9.30742 29.4709 8.70323 28.521 8.75049 27.49L8.84049 25.74C8.87608 25.0481 8.61676 24.3735 8.12686 23.8836C7.63697 23.3938 6.96239 23.1344 6.27049 23.17L4.52049 23.2588C3.4864 23.3127 2.53025 22.7101 2.13284 21.7539C1.73543 20.7977 1.98277 19.6949 2.75049 19L4.05174 17.825C4.56601 17.3605 4.85951 16.6999 4.85951 16.0069C4.85951 15.3139 4.56601 14.6533 4.05174 14.1888L2.75049 13.0075C1.98535 12.3135 1.73837 11.2137 2.13327 10.2591C2.52816 9.30456 3.47988 8.7007 4.51174 8.75002L6.26174 8.83877C6.95498 8.87522 7.63109 8.61556 8.12172 8.12445C8.61236 7.63334 8.87136 6.95698 8.83424 6.26377L8.75049 4.51252C8.7021 3.48111 9.30588 2.53017 10.2599 2.13523C11.2139 1.74028 12.3132 1.98621 13.008 2.75002L14.183 4.04752Z" stroke="#C49900" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M16 21.6262C19.1066 21.6262 21.625 19.1078 21.625 16.0012C21.625 12.8946 19.1066 10.3762 16 10.3762C12.8934 10.3762 10.375 12.8946 10.375 16.0012C10.375 19.1078 12.8934 21.6262 16 21.6262Z" stroke="#C49900" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      <div class="customToolTipWorkspace">Manage Access</div>
                    </li> -->
                    <li *ngIf="isPrivateFolder()" class="tollTipWorkspace">
                      <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg" [ngClass]="isAdmin ? 'classificationsIcon manageUsers' : 'classificationsIcon-disabled manageUsers'" (click)="openAddUserModal()">
                        <path d="M0 21C0 18.8783 0.842855 16.8434 2.34315 15.3431C3.84344 13.8429 5.87827 13 8 13C10.1217 13 12.1566 13.8429 13.6569 15.3431C15.1571 16.8434 16 18.8783 16 21H14C14 19.4087 13.3679 17.8826 12.2426 16.7574C11.1174 15.6321 9.5913 15 8 15C6.4087 15 4.88258 15.6321 3.75736 16.7574C2.63214 17.8826 2 19.4087 2 21H0ZM8 12C4.685 12 2 9.315 2 6C2 2.685 4.685 0 8 0C11.315 0 14 2.685 14 6C14 9.315 11.315 12 8 12ZM8 10C10.21 10 12 8.21 12 6C12 3.79 10.21 2 8 2C5.79 2 4 3.79 4 6C4 8.21 5.79 10 8 10ZM16.284 13.703C17.6893 14.3359 18.882 15.3612 19.7186 16.6557C20.5552 17.9502 21.0002 19.4587 21 21H19C19.0002 19.844 18.6666 18.7125 18.0391 17.7416C17.4116 16.7707 16.5171 16.0017 15.463 15.527L16.283 13.703H16.284ZM15.596 2.413C16.6035 2.8283 17.465 3.53354 18.071 4.43923C18.6771 5.34492 19.0004 6.41024 19 7.5C19.0004 8.87233 18.4877 10.1952 17.5625 11.2088C16.6374 12.2224 15.3667 12.8535 14 12.978V10.965C14.7409 10.8589 15.4283 10.518 15.9613 9.99246C16.4943 9.4669 16.8447 8.78432 16.9612 8.04493C17.0776 7.30555 16.954 6.5483 16.6084 5.88435C16.2628 5.22041 15.7134 4.68475 15.041 4.356L15.596 2.413Z" fill="#937206"/>
                      </svg>
                      <!-- <img src="../../../assets/images/user-icon.svg" alt="" /> -->
                      <div class="customToolTipWorkspace">Manage users</div>
                    </li>
                  </ul>
                </div>
                <h6 class="tollTipCustom">
                  <span *ngIf="!isExternalView"
                    >/<a
                      [ngClass]="
                        breadCrumb.length !== 0
                          ? 'breadcrumb-active'
                          : 'breadcrumb-not-active'
                      "
                      (click)="
                        handleGotoBreadcrumb(folderStructure[0], null, 0)
                      "
                      >All Workspace</a
                    ></span
                  >
                  <span *ngIf="isExternalView">/<a
                      [ngClass]="
                        breadCrumb.length !== 0
                          ? 'breadcrumb-active'
                          : 'breadcrumb-not-active'
                      "
                      (click)="
                      fetchAllPrivateWorkspaces()
                      "
                      >Shared Folders</a></span>
                  <span *ngFor="let c of breadCrumb; let i = index">
                    /<a
                      [ngClass]="
                        i !== breadCrumb.length - 1
                          ? 'breadcrumb-active'
                          : 'breadcrumb-not-active'
                      "
                      (click)="handleGotoBreadcrumb(c, null, i + 1)"
                      >{{ sharedService.stringShortener(c.title, 40) }}</a
                    >
                  </span>
                  <!-- <div class="tolltipContent" style="top: auto; bottom: -30px;">
                    {{sharedService.removeWorkspacesFromString(breadcrrumb)}}
                  </div> -->
                  <span *ngIf="showLinkCopy" class="copy-section">
                    <a class="flexible">
                      <img
                        src="../../../assets/images/copyIcon.png"
                        style="
                          width: 14px;
                          margin-right: 6px;
                          margin-left: 10px;
                        "
                      />
                      <span
                        class="copy-link pointer"
                        (click)="copyToClipboard(sharedService.removeWorkspacesFromString(breadcrrumb))"
                        style="color: #937206; font-size: 15px"
                        >{{ !copiedString ? "Copy Link" : "Copied!" }}</span
                      >
                    </a>
                  </span>
                </h6>

                <div class="dateFileSize" *ngIf="showLinkCopy">
                  <ul>
                    <li *ngIf="selectedFolder.start">
                      <img
                        src="../../../assets/images/calendar-icon.svg"
                        alt=""
                      />
                      {{ getDateInFormat(selectedFolder.start) }}
                    </li>
                    <li>
                      {{ sortedData.length }} assets,
                      {{ getSelectedAssetsSize() }}
                    </li>
                  </ul>
                </div>
              </div>
              <div class="views" *ngIf="selectedFolder.uid !== parentId">
                <!-- <div class="back-btn">
                  <svg
                    width="8"
                    height="14"
                    viewBox="0 0 8 14"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M2.82783 6.99974L7.77783 11.9497L6.36383 13.3637L-0.000168125 6.99974L6.36383 0.635742L7.77783 2.04974L2.82783 6.99974Z"
                      fill="#BAB8B2"
                    />
                  </svg>
                  Back
                </div> -->

                <div
                  style="
                    position: relative;
                    display: inline-block;
                    vertical-align: top;
                    margin-top: -3px;
                  "
                >
                  <div class="selectedItemBlock" *ngIf="count > 0">
                    {{ count }} selected
                    <a (click)="removeAssets()"
                      ><img src="../../../assets/images/remove-icon.svg" alt=""
                    /></a>
                  </div>
                  <div class="downloadFileWorkspace">
                    <a (click)="multiDownload()"
                      href="javascript:void(0)"
                      *ngIf="!isTrashView && count > 0"
                      [ngClass]="{'addMarginRight' : count > 0}">
                      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="downloadIcon">
                        <path d="M11.9727 19.6958V12.9458" stroke="#937206" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M14.7852 17.2095L11.9727 20.022L9.16016 17.2095" stroke="#937206" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M15.9374 14.8125H16.7812C18.3554 14.8152 19.7546 13.8099 20.2544 12.3172C20.7543 10.8244 20.2425 9.17928 18.9841 8.23348C17.7256 7.28768 16.0031 7.25355 14.7082 8.14877C14.1862 5.36953 11.682 3.40988 8.85877 3.5713C6.03554 3.73272 3.77104 5.96503 3.5692 8.78565C3.36737 11.6063 5.29096 14.1383 8.06244 14.7" stroke="#937206" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      <!-- <img src="../../../assets/images/download-workspace.svg"/> -->
                    </a>
                    <div class="multiDownloadBlock"
                    *ngIf="
                    copyRightItem.length > 0 ||
                    sizeExeeded ||
                    forInternalUse.length > 0 ||
                    needPermissionToDownload.length > 0">
                      <!-- forInternalUse.length {{forInternalUse.length}};needPermissionToDownload.length{{needPermissionToDownload.length}} -->
                      <div
                        class="no-use-restrictions"
                        *ngIf="
                          forInternalUse.length < 1 &&
                          needPermissionToDownload.length < 1
                        "
                      >
                        <p *ngIf="copyRightItem.length>0">Always credit copyright owners.</p>
                        <p class="pt-15" *ngIf="sizeExeeded">
                          Your download exceeds 1 GB. This will likely take some
                          time.
                        </p>
                        <div class="download-btn">
                          <!-- <a
                            (click)="cancelDownloadClick($event)"
                            class="cancelDownload"
                            >Cancel download</a> -->
                          <a
                            (click)="downloadAssets($event)"
                            class="uncheckAfterSuccess"
                          >
                            <svg
                              width="22"
                              height="21"
                              viewBox="0 0 22 21"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path
                                d="M10.9673 19.5525V12.0525"
                                stroke="#EDD580"
                                stroke-width="1.5"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                              />
                              <path
                                d="M14.0923 16.7893L10.9673 19.9143L7.84229 16.7893"
                                stroke="#EDD580"
                                stroke-width="1.5"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                              />
                              <path
                                d="M15.3748 14.1251H16.3123C18.0615 14.128 19.6161 13.0111 20.1715 11.3525C20.7269 9.69382 20.1582 7.86592 18.76 6.81503C17.3617 5.76414 15.4478 5.72622 14.009 6.72091C13.429 3.63287 10.6466 1.45547 7.50963 1.63483C4.37272 1.81418 1.8566 4.29453 1.63234 7.42855C1.40808 10.5626 3.5454 13.3759 6.62482 14.0001"
                                stroke="#EDD580"
                                stroke-width="1.5"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                              />
                            </svg>
                            Download
                          </a>
                        </div>
                      </div>

                      <div
                        class="internal-use"
                        *ngIf="
                          forInternalUse.length > 0 &&
                          needPermissionToDownload.length < 1
                        "
                      >
                        <p *ngIf="copyRightItem.length>0">Always credit copyright owners.</p>

                        <p class="pt-15" *ngIf="sizeExeeded" [ngClass]="{'removeMarginTop' : copyRightItem.length < 1  }">
                          Your download exceeds 1 GB. This will likely take some
                          time.
                        </p>

                        <div class="control-group"
                          [ngClass]="{'error-disabled' : downloadErrorShow && !isAware, 'removeMarginTop' : copyRightItem.length < 1  }"
                        >
                          <label class="control control--checkbox"
                            >I'm aware certain selected asset(s) must NOT be
                            used in public
                            <input
                              type="checkbox"
                              [(ngModel)]="isAware"
                              [checked]="isAware"
                              (change)="onCheckboxChange($event)"
                            />
                            <div class="control__indicator"></div>
                          </label>
                        </div>
                        <div
                          class="error"
                          *ngIf="downloadErrorShow && !isAware"
                        >
                          Please check the box to proceed
                        </div>
                        <div class="download-btn" (click)="downloadClick()">
                          <!-- <a
                            (click)="cancelDownloadClick($event)"
                            class="cancelDownload"
                            >Cancel download</a
                          > -->
                          <a
                            (click)="downloadAssets($event)"
                            [ngClass]="{ downloadDisbable: !downloadEnable }"
                            class="uncheckAfterSuccess"
                          >
                            <svg
                              width="22"
                              height="21"
                              viewBox="0 0 22 21"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path
                                d="M10.9673 19.5525V12.0525"
                                stroke="#EDD580"
                                stroke-width="1.5"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                              />
                              <path
                                d="M14.0923 16.7893L10.9673 19.9143L7.84229 16.7893"
                                stroke="#EDD580"
                                stroke-width="1.5"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                              />
                              <path
                                d="M15.3748 14.1251H16.3123C18.0615 14.128 19.6161 13.0111 20.1715 11.3525C20.7269 9.69382 20.1582 7.86592 18.76 6.81503C17.3617 5.76414 15.4478 5.72622 14.009 6.72091C13.429 3.63287 10.6466 1.45547 7.50963 1.63483C4.37272 1.81418 1.8566 4.29453 1.63234 7.42855C1.40808 10.5626 3.5454 13.3759 6.62482 14.0001"
                                stroke="#EDD580"
                                stroke-width="1.5"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                              />
                            </svg>
                            Download
                          </a>
                        </div>
                      </div>

                      <div
                        class="internal-use"
                        *ngIf="needPermissionToDownload.length > 0"
                      >
                        <p *ngIf="copyRightItem.length>0">Always credit copyright owners.</p>
                        <p class="pt-15" *ngIf="sizeExeeded">
                          Your download exceeds 1 GB. This will likely take some
                          time.
                        </p>


                          <p class="pt-15"  [ngClass]="{ 'removeMarginTop' : copyRightItem.length < 1 }">
                          {{ needPermissionToDownload.length }} asset{{ needPermissionToDownload.length>1?'s':'' }} you
                          selected require download permission, please reach out
                          owner(s) via email:
                        </p>

                        <ul class="downloadImgLisst">
                          <li *ngFor="let item of needPermissionToDownload">
                            <div class="imgListBlk">
                              <img src="../../../assets/images/doc-white.svg" />
                            </div>
                            <div class="contentListBlk">{{ item.title }}</div>
                            <div class="imgMailIcon">
                              <a href="mailto:{{ getUser(item) }}"
                                ><img
                                  src="../../../assets/images/mail-icon.svg"
                              /></a>
                            </div>
                          </li>
                        </ul>

                        <div
                          class="control-group"
                          [ngClass]="{'error-disabled' : downloadErrorShow && !isAware }"
                          *ngIf="forInternalUse.length > 0"
                        >
                          <label class="control control--checkbox"
                            >I'm aware certain selected asset(s) must NOT be
                            used in public
                            <input
                              type="checkbox"
                              [(ngModel)]="isAware"
                              checked="isAware"
                              (change)="onCheckboxChange($event)"
                            />
                            <div class="control__indicator"></div>
                          </label>
                        </div>
                        <div
                          class="error"
                          *ngIf="
                            downloadErrorShow &&
                            !isAware &&
                            forInternalUse.length
                          "
                        >
                          Please check the box to proceed
                        </div>
                        <div class="download-btn" (click)="downloadClick()" *ngIf="downloadArray.length>0">
                          <a
                            (click)="downloadAssets($event)"
                            [ngClass]="{ downloadDisbable: !downloadEnable && forInternalUse.length > 0 }"
                            class="uncheckAfterSuccess"
                          >
                            <svg
                              width="22"
                              height="21"
                              viewBox="0 0 22 21"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path
                                d="M10.9673 19.5525V12.0525"
                                stroke="#EDD580"
                                stroke-width="1.5"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                              />
                              <path
                                d="M14.0923 16.7893L10.9673 19.9143L7.84229 16.7893"
                                stroke="#EDD580"
                                stroke-width="1.5"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                              />
                              <path
                                d="M15.3748 14.1251H16.3123C18.0615 14.128 19.6161 13.0111 20.1715 11.3525C20.7269 9.69382 20.1582 7.86592 18.76 6.81503C17.3617 5.76414 15.4478 5.72622 14.009 6.72091C13.429 3.63287 10.6466 1.45547 7.50963 1.63483C4.37272 1.81418 1.8566 4.29453 1.63234 7.42855C1.40808 10.5626 3.5454 13.3759 6.62482 14.0001"
                                stroke="#EDD580"
                                stroke-width="1.5"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                              />
                            </svg>
                            Download
                          </a>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- <div class="moveFolderBlock"><img src="../../../assets/images/arrow-left.svg"></div> -->
                  <div
                    class="deleteRecover"
                    *ngIf="!isTrashView && checkEnableDeleteBtn()"
                  >
                    <span
                      class="deleteFolder tollTipWorkspace"
                      [ngClass]="checkEnableDeleteBtn() ? '' : 'btn-disabled'"
                      (click)="deleteFolders()">
                      <svg width="16" height="18" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1.16724 5.24465L14.8612 2.33398" stroke="#937206" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.06662 1.52163L6.13329 2.14497C5.87313 2.19969 5.64547 2.35575 5.50061 2.57867C5.35575 2.80158 5.30562 3.07301 5.36129 3.33297L5.56929 4.31163L10.46 3.27163L10.252 2.29363C10.1972 2.03404 10.0415 1.80685 9.81923 1.66206C9.59692 1.51727 9.32619 1.46675 9.06662 1.52163Z" stroke="#937206" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M7.16724 13V8" stroke="#937206" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10.1672 13V8" stroke="#937206" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12.4172 5H14.1672L13.2439 15.5827C13.2008 16.1024 12.7655 16.5018 12.2439 16.5H5.08724C4.56722 16.4997 4.13422 16.1009 4.09124 15.5827L3.3999 7.25133" stroke="#937206" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      <!-- <img src="../../../assets/images/delete-icon.svg"/> -->
                      <div class="customToolTipWorkspace" style="right: 0px; left: 0px; top: 32px;">Delete</div>
                    </span>
                  </div>
                  <div class="buttonCreate tollTipWorkspace" *ngIf="count < 1 && !checkExternalUser()">
                    <a
                      href="javascript:void(0)"
                      *ngIf="!isTrashView"
                      (click)="datePickerDefaultAction()"
                      class="createNew flexible">
                      <!-- Old Icon <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-right: 8px;width: 20px;height: 20px;margin-top: 3px;" >
                        <path d="M1 6.25C0.585786 6.25 0.25 6.58579 0.25 7C0.25 7.41421 0.585786 7.75 1 7.75V6.25ZM13 7.75C13.4142 7.75 13.75 7.41421 13.75 7C13.75 6.58579 13.4142 6.25 13 6.25V7.75ZM6.25 13C6.25 13.4142 6.58579 13.75 7 13.75C7.41421 13.75 7.75 13.4142 7.75 13H6.25ZM7.75 1C7.75 0.585786 7.41421 0.25 7 0.25C6.58579 0.25 6.25 0.585786 6.25 1H7.75ZM1 7.75H13V6.25H1V7.75ZM7.75 13V1H6.25V13H7.75Z" fill="#937206"/>
                      </svg> -->
                      <svg width="24" height="22" viewBox="0 0 24 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M1.50857 18.24V1.50857H9.00864L11.2029 3.70286H20.4343V9.18672C20.9668 9.34171 21.4725 9.55954 21.9429 9.83165V3.29143C21.9429 3.00045 21.8273 2.72139 21.6215 2.51563C21.4158 2.30988 21.1367 2.19429 20.8457 2.19429H11.4256L9.23136 0H1.09714C0.806162 0 0.5271 0.115591 0.321346 0.321346C0.115591 0.5271 0 0.806162 0 1.09714V18.6514C0 18.9424 0.115591 19.2215 0.321346 19.4272C0.5271 19.633 0.806162 19.7486 1.09714 19.7486H12.9277C12.5972 19.2852 12.323 18.7791 12.1149 18.24H1.50857ZM18.5143 19.8571C20.7708 19.8571 22.6 18.0279 22.6 15.7714C22.6 13.515 20.7708 11.6857 18.5143 11.6857C16.2578 11.6857 14.4286 13.515 14.4286 15.7714C14.4286 18.0279 16.2578 19.8571 18.5143 19.8571ZM18.5143 21.2571C21.544 21.2571 24 18.8011 24 15.7714C24 12.7418 21.544 10.2857 18.5143 10.2857C15.4846 10.2857 13.0286 12.7418 13.0286 15.7714C13.0286 18.8011 15.4846 21.2571 18.5143 21.2571ZM17.9657 13.0286V15.2229H15.7714V16.32H17.9657V18.5143H19.0629V16.32H21.2571V15.2229H19.0629V13.0286H17.9657Z" fill="#947200"/>
                      </svg>
                      <!-- <img src="../../../assets/images/add.svg" /> -->
                      <!-- Create new folder -->
                    </a>
                    <div class="customToolTipWorkspace" style="right: 5px; left: auto; top: 32px">Create new folder</div>
                  </div>
                  <div class='dropdownCreate createFolder' *ngIf="count < 1">
                    <form>
                      <div class="row">
                        <div class="col-xl-12">
                            <label>Folder Name</label><span class="placeholderText">e.g. Title of project or event</span>
                        </div>
                        <div class="col-xl-12">
                          <input [ngClass]="{'goldenText': folderNameRef, 'errorInput': showError}" [(ngModel)]="folderNameRef" (keyup)="inputChange()" name="folderNameRef" type="text" placeholder="Enter a folder name" autocomplete="off">
                          <!-- <input *ngIf="showError" [ngClass]="{'errorInput': showError}" [(ngModel)]="folderNameRef" (keyup)="inputChange()" name="folderNameRef" type="text" placeholder="Enter a folder name"> -->
                        </div>
                      </div>
                      <div class="row mt-4">
                        <div class="col-xl-12">
                          <mat-accordion>
                            <mat-expansion-panel (opened)="panelOpenState = true"
                                                (closed)="panelOpenState = false">
                              <mat-expansion-panel-header>
                                <mat-panel-description>
                                  Show optional information
                                </mat-panel-description>
                              </mat-expansion-panel-header>
                              <div class="row mt-4">
                                <div class="col-xl-12">
                                    <label>Description </label><span class="placeholderText">Project or event description</span>
                                </div>
                                <div class="col-xl-12">
                                  <input [ngClass]="{'goldenText': folderDescriptionRef}" autocomplete="off"  [(ngModel)]="folderDescriptionRef" name="folderDescriptionRef" type="text">
                                </div>
                              </div>
                              <div class="row custom-date-picker mt-4">
                                <div class="col-xl-12 col-md-12">
                                  <label for="date">Date</label><span class="placeholderText">Date of project or event</span>
                                </div>
                                <div class="col-xl-12 col-md-12 " >
                                  <mat-form-field appearance="fill">
                                    <div class="flexible">
                                      <input [ngClass]="{'goldenText': folderDateRef}" autocomplete="off" [(ngModel)]="folderDateRef" name="folderDateRef" matInput [matDatepicker]="picker" style="width: 88.2%; border-bottom: 2px solid #000;"
                                      placeholder="Choose a date"  (click)="picker.open(); datePickerDefaultAction()" >
                                      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                    </div>
                                      <mat-datepicker #picker></mat-datepicker>
                                  </mat-form-field>
                                </div>
                            </div>
                            </mat-expansion-panel>
                          </mat-accordion>
                        </div>
                      </div>
                      <div class="row mt-4">
                        <div *ngIf="canSetAsPrivate()" class="col-xl-12">
                          <label class="control control--checkbox" style="margin-bottom: 0px; display: inline-block;">
                            Make this folder private
                            <input type="checkbox"
                            [(ngModel)]="checkboxIsPrivate"
                            [ngModelOptions]="{standalone: true}" />
                            <div class="control__indicator" style="top: 4px;left: 0px;"></div>
                          </label>
                          <span class="tollTipWorkspace">
                            <img src="../../../assets/images/Info-icon.svg" alt="" class="infoIcon" />
                            <div class="customToolTipWorkspace infoHover">You can collaborate with specified users privately. You can invite users to a private folder after you have created it.</div>
                          </span>
                        </div>
                        <div class="col-xl-12 mt-15">
                          <div *ngIf="showError" class="errorMessage">
                            Please complete all mandatory fields
                          </div>
                          <button *ngIf="!createFolderLoading" class="createBtn btn tollTipCustom" (click)="createFolder(folderNameRef, folderDateRef, folderDescriptionRef)" style="pointer-events: auto;" [ngClass]="{'disableBtn': !folderNameRef}">
                            Create folder
                          </button>
                          <button *ngIf="createFolderLoading" class="createBtn btn tollTipCustom" style="pointer-events: auto;" [ngClass]="{'disableBtn': true}">
                            Creating folder...
                          </button>
                        </div>

                      </div>
                    </form>
                  </div>
                </div>

                <ul class="uploadAssetsClassifications" *ngIf="!checkExternalUser()">
                  <li
                    (click)="openModal()"
                    class="tollTipWorkspace workspaceInfoHover"
                    *ngIf="count < 1"
                  >
                    <!-- <svg width="24" height="24" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="classificationsIcon">
                      <path d="M15 29.0625V17.8125" stroke="#937206" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M10.3125 22.5L15 17.8125L19.6875 22.5" stroke="#937206" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M21.5625 19.6874H22.9687C25.5924 19.6918 27.9244 18.0164 28.7575 15.5284C29.5905 13.0405 28.7376 10.2986 26.6402 8.7223C24.5428 7.14597 21.6719 7.08909 19.5137 8.58112C18.6437 3.94906 14.4701 0.682968 9.7647 0.952001C5.05932 1.22103 1.28514 4.94155 0.948751 9.64258C0.612362 14.3436 3.81835 18.5636 8.43748 19.4999" stroke="#937206" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg> -->
                    <svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg" class="classificationsIcon">
                      <path
                        d="M0 17H18V19H0V17ZM10 3.828V15H8V3.828L1.929 9.9L0.515 8.486L9 0L17.485 8.485L16.071 9.899L10 3.83V3.828Z"
                        fill="#937206"
                      />
                    </svg>
                    <div class="customToolTipWorkspace">Upload here</div>
                  </li>
                  <li
                    (click)="
                      openUpdateClassModal(breadCrumb[0] ? breadCrumb[0] : null)
                    "
                    *ngIf="!isPrivateFolder(true, true) && count < 1"
                    class="tollTipWorkspace manageFolderIcon"
                    [ngClass]="{
                      uploadClassificationDisable: breadCrumb[0]
                        ? false || !sortedData.length
                        : true
                    }"
                  >
                    <!-- !upadtePermission(breadCrumb[0]) -->
                    <svg width="22" height="22" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="classificationsIcon" [ngClass]="{'disablePermission': breadCrumb[0]? !upadtePermission(breadCrumb[0]) :true}">
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M14.183 4.04752C14.6469 4.56246 15.3074 4.85645 16.0005 4.85645C16.6936 4.85645 17.3541 4.56246 17.818 4.04752L19.0005 2.75002C19.6949 1.98145 20.7979 1.73297 21.7548 2.1295C22.7117 2.52603 23.3157 3.48177 23.263 4.51627L23.1742 6.26627C23.1395 6.95661 23.3983 7.62945 23.8867 8.11856C24.3751 8.60768 25.0476 8.86748 25.738 8.83377L27.488 8.74502C28.5218 8.69406 29.476 9.29859 29.8715 10.2551C30.267 11.2116 30.0184 12.3135 29.2505 13.0075L27.948 14.1825C27.4337 14.647 27.1402 15.3076 27.1402 16.0006C27.1402 16.6937 27.4337 17.3543 27.948 17.8188L29.2505 18.9938C30.0191 19.6882 30.2675 20.7911 29.871 21.7481C29.4745 22.705 28.5187 23.309 27.4842 23.2563L25.7342 23.1675C25.0423 23.1319 24.3678 23.3913 23.8779 23.8811C23.388 24.371 23.1286 25.0456 23.1642 25.7375L23.253 27.4875C23.2988 28.5166 22.6958 29.4643 21.7442 29.8587C20.7927 30.2531 19.696 30.0098 19.0005 29.25L17.8242 27.9488C17.3599 27.4346 16.6996 27.1411 16.0067 27.1411C15.3139 27.1411 14.6535 27.4346 14.1892 27.9488L13.008 29.25C12.3135 30.0134 11.2149 30.2594 10.2612 29.8652C9.30742 29.4709 8.70323 28.521 8.75049 27.49L8.84049 25.74C8.87608 25.0481 8.61676 24.3735 8.12686 23.8836C7.63697 23.3938 6.96239 23.1344 6.27049 23.17L4.52049 23.2588C3.4864 23.3127 2.53025 22.7101 2.13284 21.7539C1.73543 20.7977 1.98277 19.6949 2.75049 19L4.05174 17.825C4.56601 17.3605 4.85951 16.6999 4.85951 16.0069C4.85951 15.3139 4.56601 14.6533 4.05174 14.1888L2.75049 13.0075C1.98535 12.3135 1.73837 11.2137 2.13327 10.2591C2.52816 9.30456 3.47988 8.7007 4.51174 8.75002L6.26174 8.83877C6.95498 8.87522 7.63109 8.61556 8.12172 8.12445C8.61236 7.63334 8.87136 6.95698 8.83424 6.26377L8.75049 4.51252C8.7021 3.48111 9.30588 2.53017 10.2599 2.13523C11.2139 1.74028 12.3132 1.98621 13.008 2.75002L14.183 4.04752Z" stroke="#937206" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M16 21.6262C19.1066 21.6262 21.625 19.1078 21.625 16.0012C21.625 12.8946 19.1066 10.3762 16 10.3762C12.8934 10.3762 10.375 12.8946 10.375 16.0012C10.375 19.1078 12.8934 21.6262 16 21.6262Z" stroke="#937206" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <div class="customToolTipWorkspace" *ngIf="breadCrumb[0]? upadtePermission(breadCrumb[0]) &&  !!sortedData.length :false">Manage folder</div>
                    <div class="customToolTipWorkspace" *ngIf="breadCrumb[0]? upadtePermission(breadCrumb[0]) &&  !sortedData.length :false" style="left: auto; right: 0px">There are no assets in the folder to update</div>
                    <div class="customToolTipWorkspace" *ngIf="breadCrumb[0]? !upadtePermission(breadCrumb[0]) :true" style="left: auto; right: 0px">You do not have permissions to update classification</div>
                  </li>
                  <li *ngIf="checkForDescription()" class="workspaceInfoHover">
                    <svg
                      width="24"
                      height="24"
                      viewBox="0 0 32 32"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                      class="classificationsIcon"
                    >
                      <path
                        d="M16 1C7.72381 1 1 7.73207 1 16.0053C1 24.2786 7.72381 31 16 31C24.2762 31 31 24.2786 31 16.0053C31 7.73207 24.2762 1 16 1ZM16 2.37379C23.5392 2.37379 29.6364 8.46875 29.6364 16.0053C29.6364 23.5419 23.5392 29.6262 16 29.6262C8.46077 29.6262 2.36364 23.5419 2.36364 16.0053C2.36364 8.46875 8.46077 2.37379 16 2.37379ZM16 8.50797C15.6234 8.50797 15.3182 8.81311 15.3182 9.18954C15.3182 9.56597 15.6234 9.87113 16 9.87113C16.3766 9.87113 16.6818 9.56597 16.6818 9.18954C16.6818 8.81311 16.3766 8.50797 16 8.50797ZM15.9254 13.1552C15.756 13.1738 15.5996 13.2552 15.4872 13.3834C15.3748 13.5115 15.3145 13.677 15.3182 13.8474V22.8211C15.3169 22.9114 15.3336 23.0011 15.3673 23.0849C15.401 23.1687 15.451 23.245 15.5144 23.3093C15.5779 23.3736 15.6535 23.4247 15.7368 23.4595C15.8202 23.4944 15.9096 23.5124 16 23.5124C16.0904 23.5124 16.1798 23.4944 16.2632 23.4595C16.3465 23.4247 16.4221 23.3736 16.4856 23.3093C16.549 23.245 16.599 23.1687 16.6327 23.0849C16.6664 23.0011 16.6831 22.9114 16.6818 22.8211V13.8474C16.6839 13.7504 16.6652 13.6541 16.6271 13.5648C16.5889 13.4756 16.5321 13.3955 16.4605 13.33C16.3889 13.2645 16.3041 13.215 16.2119 13.1848C16.1196 13.1547 16.0219 13.1446 15.9254 13.1552Z"
                        fill="#937206"
                        stroke="#937206"
                        stroke-width="0.6"
                      />
                    </svg>
                    <div class="workspaceInfo">
                      <div class="workspaceHeading">
                        {{ selectedFolder.title }}
                      </div>
                      <p>{{ selectedFolder?.properties["dc:description"] }}</p>
                    </div>
                  </li>
                </ul>
                <div
                  *ngIf="!showGridListButton() && !isTrashView"
                  class="gallery-view-block"
                >
                  <img
                    src="../../../assets/images/gallery-view.svg"
                    class="menu-icon"
                    [ngClass]="selectedMenu === 0 ? 'active' : ''"
                    (click)="handleSelectMenu(0, 'GRID')"
                  />
                  <img
                    src="../../../assets/images/list-view-icon.svg"
                    class="menu-icon"
                    [ngClass]="selectedMenu === 1 ? 'active' : ''"
                    (click)="handleSelectMenu(1, 'LIST')"
                  />
                </div>
              </div>
            </div>
            <div class="header-content" *ngIf="isTrashView" style="width: 100%; position: relative; z-index: 1;">
              <div>
                <span style="overflow: auto">
                  <span class="main-title tollTipCustom">Trash </span>
                </span>
              </div>
              <div class="views">
                <div class="deleteRecover">
                  <span
                    class="recoverFolder"
                    [ngClass]="
                      checkEnableDeleteBtn() ? '' : 'recover-btn-disabled'
                    "
                    *ngIf="isTrashView && checkEnableDeleteBtn()"
                    (click)="unTrashFolders()"
                    ><img
                      src="../../../assets/images/recover-icon.svg"
                    />Recover selected items</span
                  >
                </div>
                <div style="display: inline-block">
                  <img
                    src="../../../assets/images/gallery-view.svg"
                    class="menu-icon"
                    [ngClass]="selectedMenu === 0 ? 'active' : ''"
                    (click)="handleSelectMenu(0, 'GRID')"
                  />
                  <img
                    src="../../../assets/images/list-view-icon.svg"
                    class="menu-icon"
                    [ngClass]="selectedMenu === 1 ? 'active' : ''"
                    (click)="handleSelectMenu(1, 'LIST')"
                  />
                </div>
              </div>
            </div>

            <!-- Start adding collaborators to this private folder -->
            <div *ngIf="isPrivateFolder(false) && checkShowNoTrashItem() && !checkExternalUser()" class="addignCollaborators" style="padding-top: 40px;">
              <h2>Start adding collaborators to this private folder</h2>
              <div class="addUsers">
                <div [ngClass]="isAdmin ? 'addUserBtn' : 'addUserBtn-disabled'" (click)="openAddUserModal()">Add users</div>
              </div>
            </div>

            <div *ngIf="checkShowNoTrashItem() && isPrivateFolder(true, true) && !isPrivateFolder(false) && !checkExternalUser()" class="addignCollaborators" style="padding-top: 40px;">
              <h2>Start adding assets to this private folder</h2>
              <div class="addUsers">
                <div class="addUserBtn" (click)="openModal()">Upload</div>
              </div>
            </div>
            <!-- End adding collaborators to this private folder -->
            <div class="no-items" *ngIf="checkShowNoTrashItem() && !isPrivateFolder(true, true)">
              <img
                src="../../../assets/images/no-items.svg"
                alt="No items here"
              />
              No items here
            </div>

            <div  *ngIf="selectedMenu === 0" class="main-content row"> <!--  -->
              <div
                class="col-xl-12 col-md-12"
                *ngIf="searchList && searchList.length"
              >
                <!-- <ngx-masonry [options]="myOptions" [ordered]="true" (layoutComplete)="completeLoadingMasonry($event)" [updateLayout]="updateMasonryLayout"> -->

                <ul
                  class="all-sectors"
                  *ngIf="selectedFolder.uid !== parentId || isTrashView || isExternalView"
                  [ngClass]="{
                    'animate__animated animate__fadeIn':
                      selectedFolder.uid !== parentId || isTrashView || isExternalView
                  }"
                >
                  <li
                    [ngClass]="{ 'inner-sectors': item.type === 'Domain' }"
                    *ngFor="let item of sortedData; let i = index"
                  >
                    <span
                      *ngIf="!checkAssetType(item.type) && !checkWSType(item.type)"
                      class="folder-structure pointerCursor"
                      (click)="
                        handleViewClick(item, i);
                        selectedFolder2 = item;
                        selectedFolder = item;
                        createBreadCrumb(item.title, item.type, item.path)
                      "
                      >{{ item.title }}</span
                    >

                    <div
                      class="groupFolder"
                      [ngClass]="
                        selectedFolderList[i] != null ? 'checkDelete' : ''
                      "
                    >
                      <div
                        class="delete-folder-action"
                        *ngIf="
                          !checkAssetType(item.type) &&
                          checkWSType(item.type) &&
                          checkCanDelete(item) &&
                          !checkGeneralFolder(item)
                        "
                      >
                        <div class="control-group">
                          <label class="control control--checkbox">
                            <input
                              id="checkbox-{{ i }}"
                              type="checkbox"
                              class="vh"
                              (change)="selectFolder($event, item, i)"
                            />
                            <div class="control__indicator"></div>
                          </label>
                        </div>
                      </div>
                      <div
                        *ngIf="
                          !checkAssetType(item.type) && checkWSType(item.type)
                        "
                        class="folder-structure"
                        [ngClass]="{ pointerCursor: !isTrashView }"
                        (click)="handleTest(item)"
                      >
                        <!-- <img src="../../../assets/images/yellow-folder.png"> -->
                        <div class="folder-content">
                          <p
                            class="tollTipCustom"
                            style="
                              white-space: normal;
                              width: 100%;
                              overflow: inherit;
                              text-overflow: inherit;
                            "
                          >
                            {{ sharedService.stringShortener(item.title, 16) }}
                            <span
                              class="tolltipContent"
                              style="
                                bottom: -20px;
                                top: auto;
                                left: 50%;
                                transform: translate(-50%, 0%);
                              "
                            >
                              {{ item.title }}
                            </span>
                          </p>
                          <span>{{ getFolderInfo(item) }}</span>
                        </div>
                      </div>
                    </div>

                    <!-- <div class="folder-content" style="background-color: #F9F7F2;">
                        <p class="tollTipCustom" style="    white-space: normal;
                        width: 100%;
                        overflow: inherit;
                        text-overflow: inherit;">
                          {{sharedService.stringShortener(item.title, 16)}}
                          <span class="tolltipContent" style="bottom: -20px; top: auto; left: 50%; transform: translate(-50%, 0%);">
                            {{item.title}}
                          </span>
                        </p>
                        <span>{{ getFolderInfo(item) }}</span>
                      </div> -->

                    <document-card
                      *ngIf="checkAssetType(item.type)"
                      [doc]="item"
                      [viewType]="viewType"
                      (onOpenPreview)="open(item, item.type)"
                      (onSelect)="selectImage($event, item, i)"
                      (onMarkFavourite)="markFavourite(item, false)"
                    >
                    </document-card>
                  </li>
                </ul>
                <!-- <div style="text-align: center;">
                  <button *ngIf="checkWSType(selectedFolder.type) && showMoreButton && (searchList.length != selectedFolder?.contextParameters?.folderAssetsCount)" class="showMoreBtn" (click)="showMore(selectedFolder.uid)">Show more</button>
                </div> -->
              </div>
            </div>

            <div *ngIf="selectedMenu === 1" class="row justify-content-between pt-25" style="width: 100%; --bs-gutter-x: 0px">
              <div *ngIf="selectedFolder.uid === parentId && !isTrashView && !isExternalView" class="mb-5 text-center animate__animated animate__fadeIn" >
                <img src="../../../assets/images/sectorss.svg" style="margin-top: 48px" />
                <p class="sectorssText">
                  Choose a workspace on the left to begin
                </p>
              </div>
              <div class="col-xl-12 col-md-12 customTableStyle">
                <table
                  matSort
                  (matSortChange)="sortData($event)"
                  class="folderListview pb-5"
                  *ngIf="searchList?.length && selectedFolder.uid !== parentId"
                >
                  <tr>
                    <th style="width: 3%">&nbsp;&nbsp;</th>
                    <th
                      mat-sort-header="title"
                      width="40%"
                      style="padding-left: 35px"
                    >
                      Name
                      <!-- {{ !showLinkCopy ? "name" : "name" }} -->
                    </th>
                    <th *ngIf="!isTrashView" width="10%">
                      &nbsp;&nbsp;
                    </th>
                    <th mat-sort-header="dc:creator" width="20%">Created by</th>
                    <!-- <th width="20%">Last Updated by</th> -->
                    <th
                      *ngIf="!isTrashView"
                      mat-sort-header="dc:created"
                      width="15%"
                    >
                      Created on
                    </th>
                    <th
                      *ngIf="isTrashView"
                      mat-sort-header="dc:modified"
                      width="15%"
                    >
                      Deleted on
                    </th>
                    <!-- <th mat-sort-header="dc:start" *ngIf="!showLinkCopy && !isTrashView" width="20%">Associated date</th> -->
                    <!-- <th mat-sort-header="dc:start" *ngIf="isTrashView" width="20%">Deleted on</th> -->
                    <th
                      mat-sort-header="dc:sector"
                      *ngIf="isTrashView"
                      width="20%"
                    >
                      Workspace
                    </th>
                  </tr>
                  <tr
                    *ngFor="let item of sortedData; let i = index"
                    [ngClass]="selectedFolderList[i] != null ? 'checkDelete' : ''"
                    class="groupFolder"
                  >
                    <td>
                      <div
                        class="delete-folder-action"
                        *ngIf="
                          !checkAssetType(item.type) &&
                          checkWSType(item.type) &&
                          checkCanDelete(item)&&
                          !checkGeneralFolder(item)
                        "
                      >
                        <div class="control-group">
                          <label class="control control--checkbox">
                            <input
                              id="checkbox-{{ i }}"
                              type="checkbox"
                              (change)="selectFolder($event, item, i)"
                            />
                            <div class="control__indicator"></div>
                          </label>
                        </div>
                      </div>
                      <div
                        class="delete-folder-action"
                        *ngIf="checkAssetType(item.type)"
                        [ngClass]="{ activeHover: item.isSelected }"
                      >
                        <div class="control-group">
                          <label class="control control--checkbox">
                            <input
                              id="checkbox-{{ i }}"
                              type="checkbox"
                              class="vh"
                              (change)="selectAsset($event, item, i)"
                              [checked]="item.isSelected"
                              [(ngModel)]="item.isSelected"
                            />
                            <div class="control__indicator"></div>
                          </label>
                        </div>
                      </div>
                    </td>
                      <td *ngIf="!checkAssetType(item.type)" [ngClass]="{'pointerCursor': !isTrashView}" style="display: flex">
                        <img (click)="handleTest(item);selectedFolder=item;" [src]="getIconByType(item.type)" style="width: 15px;margin-right: 10px;object-fit: contain;">
                        <p (click)="handleTest(item);selectedFolder=item;" style="text-align: left; word-break: break-all;">
                          <span class="tollTipCustom">
                            {{item.title}}
                            <span class="tolltipContent" style="top: 28px;
                            height: auto;
                            white-space: break-spaces;
                            text-align: left;
                            padding: 5px 10px;">
                              {{item.title}}
                            </span>
                          </span>
                          <span *ngIf="searchBarValue" class="tollTipCustom" style="text-align: left; word-break: break-all; display: block; color: rgba(35, 33, 30, 0.6); font-weight: normal;">{{removeWorkspacesFromString(item.path, item.title)}}
                            <span class="tolltipContent" style="width: 100%;
                            height: auto;
                            white-space: break-spaces;
                            text-align: left;
                            padding: 5px 10px;">
                              {{removeWorkspacesFromString(item.path, item.title)}}
                            </span>
                          </span>
                        </p>
                        <span (click)="handleTest(item);selectedFolder=item;" style="display: inline-block; margin-left: 10px; vertical-align: top; position: relative;">
                          <div class="publicUseBlock">
                            <div *ngIf="item.properties['dc:isPrivate']" class="publicUseBlk">Private</div>
                            <!-- <div class="mouseHoverInfo">
                              <p style="color: #fff;">You can collaborate with specified users privately. You can invite users to a private folder after you have created it.</p>
                              <div class="manageAccessBtn">
                                Manage access
                              </div>
                            </div> -->
                          </div>
                        </span>
                      </td>
                      <td *ngIf="checkAssetType(item.type)" [ngClass]="{'pointerCursor': !isTrashView}" style="display: flex">
                        <img (click)="open(item, item.type)" [src]="getAssetUrl(null, item.contextParameters.thumbnail.url, item)" style="width: 30px;margin-right: 10px;object-fit: contain;">
                        <p (click)="open(item, item.type)" style="text-align: left">{{item.title}}
                          <span *ngIf="searchBarValue" class="tollTipCustom" style="text-align: left; word-break: break-all; display: block; color: rgba(35, 33, 30, 0.6); font-weight: normal;">{{removeWorkspacesFromString(item.path, item.title)}}
                            <span class="tolltipContent" style="width: 100%;
                            height: auto;
                            white-space: break-spaces;
                            text-align: left;
                            padding: 5px 10px;">
                              {{sharedService.removeWorkspacesFromString(item.path)}}
                            </span>
                          </span>
                        </p>
                      </td>
                      <td *ngIf="!checkAssetType(item.type)">
                        <span (click)="copyLink(item, 'folder')">
                          <div *ngIf="!item.copy; else other_content" class="copyHover">
                            <img src="../../../assets/images/Link.svg" />
                            <div class="copyHoverInfo">Copy link</div>
                          </div>
                          <ng-template #other_content>
                            <div class="copyedBlock">
                              <img src="../../../assets/images/Tick-box.svg" /> Copied!
                            </div>
                          </ng-template>
                        </span>
                      </td>
                      <td *ngIf="checkAssetType(item.type)">
                        <span (click)="copyLink(item, 'folder')">
                          <div *ngIf="!item.copy; else other_content" class="copyHover">
                            <img src="../../../assets/images/Link.svg" />
                            <div class="copyHoverInfo">Copy link</div>
                          </div>
                          <ng-template #other_content>
                            <div class="copyedBlock">
                              <img src="../../../assets/images/Tick-box.svg" /> Copied!
                            </div>
                          </ng-template>
                        </span>
                      </td>
                      <!-- no preview show td -->
                      <!-- <td *ngIf="checkAssetType(item.type)" (click)="open(item, item.type)" [ngClass]="{'pointerCursor': !isTrashView}" style="display: flex">
                        <img src="../../../assets/images/no-preview.png" style="width: 20px;margin-right: 10px;object-fit: contain;"/>
                        <p style="text-align: left">{{item.title}}</p>
                      </td> -->
                      <td class="tollTipCustom">
                        <p>{{getCreatorName(item)}}</p>
                        <p class="tolltipContent">{{item.properties['dc:creator']?.properties?.email}}</p>
                      </td>
                      <!-- <td><p>Luis C</p></td> -->
                      <td *ngIf="!isTrashView"><p>{{getDateInFormat(item.properties['dc:created'])}}</p></td>
                      <td *ngIf="isTrashView"><p>{{getDateInFormat(item.properties['dc:modified'])}}</p></td>
                      <!-- <td *ngIf="!showLinkCopy && !isTrashView"><p>{{item.properties['dc:start'] ? getDateInFormat(item.properties['dc:start']) : ''}}</p></td> -->
                      <!-- <td *ngIf="isTrashView"><p>{{item.lastModified ? getDateInFormat(item.lastModified) : ''}}</p></td> -->
                      <td *ngIf="isTrashView"><p>{{item.properties['dc:sector'] || ''}}</p></td>
                    </tr>
                </table>
              </div>
              <!-- <div class="col-xl-6 col-md-6" *ngFor="let item of searchList; let i = $index">
                <div *ngIf="!checkAssetType(item.type)" class="list-container"  data-toggle="tooltip" data-placement="right" title="{{item.title}}">
                  <div class="list-image col-xl-2 col-md-2">
                    <fa-icon [icon]="['fas', 'image']" class="icons"></fa-icon>
                  </div>
                  <div class="col-xl-10 col-md-10">
                    <h5 class="list-title">{{item.title}}</h5>
                    <h6>Created by {{item.properties['dc:creator']}}</h6>
                  </div>
                </div>
                <ul>
                  <li *ngIf="checkAssetType(item.type)" style="margin-bottom: 20px;">
                    <document-card
                      [doc]="item"
                      [viewType]="viewType"
                      (onOpenPreview)="open(item, item.type)"
                      (onSelect)="selectImage($event, item, i)"
                      (onMarkFavourite)="markFavourite(item, false)"
                      >
                    </document-card>
                  </li>
                </ul>
              </div> -->
              <!-- <div style="text-align: center;">
                <button class="" *ngIf="checkWSType(selectedFolder.type) && showMoreButton && (searchList.length != selectedFolder.contextParameters.folderAssetsCount)" class="showMoreBtn" (click)="showMore(selectedFolder.uid)">Show more</button>
              </div> -->
            </div>
            <div class="main-content row" *ngIf="selectedMenu === 2">
              <div
                class="col-xl-12 col-md-12 list-container"
                *ngFor="let item of searchList"
              >
                <h5 class="list-title">{{ item.title }}</h5>
                <h6 class="mt-2">
                  By
                  <fa-icon
                    [icon]="['fas', 'user-circle']"
                    class="person-icons"
                  ></fa-icon>
                  {{ item.properties["dc:creator"] }}
                </h6>
              </div>
            </div>

            <preview-popup
              #previewModal
              [doc]="selectedFile"
              [docUrl]="selectedFileUrl"
            ></preview-popup>
          </div>
          <mat-paginator
            *ngIf="selectedFolder?.uid !== parentId"
            #paginator
            [length]="resultCount"
            [pageSize]="defaultPageSize"
            [pageSizeOptions]="pageSizeOptions"
            (page)="paginatorEvent($event)"
            aria-label="Select page"
          >
          </mat-paginator>
        </div>
      </div>
    </div>
  </section>
</section>
<!-- <button mat-fab class="float" color="primary" aria-label="Add" (click)="openUpdateClassModal()">
  <mat-icon>add</mat-icon>
</button> -->
