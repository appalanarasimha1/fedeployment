<!-- <section class="sub-header" style="background-color: #E8E6DF;background-image: unset;">

</section> -->
<!-- <app-loader [show]="loading"></app-loader> -->
<!-- <section  style="background-color: #E8E6DF;padding: 30px 0px;">
  <div class="container">
    <div class="row">
      <div class="col-xl-12">
        <h2 class="commonHeading" style="font-weight: 600;">Workspace</h2>
      </div>
    </div>
  </div>
</section> -->
<section style="background-color: #fff;" class="lpBAck">
  <section class="lpSecOne ">
    <div class="container ">

      <div class="row ">
        <div class="col-xl-3 col-md-3 pt-2 customToggle pt-5 animate__animated animate__fadeIn animate__delay-2s" style="background-color: #F8F8F5;">
          <!-- Add custom toggle start -->

          <!-- Add custom toggle end -->
          <div class="pb-5 pl-12">
          <h2 class="commonHeading main-title" style="font-weight: 600;">Workspace</h2>
        </div>
           <div class="tree" >
              <ul style="list-style: none;" class="leftPanel">
                <li *ngFor="let item of folderStructure;let i = index" style="cursor: pointer">
                  <div  class="d-flex set" [ngClass]="selectedFolder2.uid === item.uid && !isTrashView ? 'active-tab' : ''"
                        (click)="fetchAllSectors(item.isExpand);selectedFolder2=item; selectedFolder=item; createBreadCrumb(item.title, item.type, item.path)">
                    <div style="z-index: 9;">
                      <img src="../../../assets/images/down-arrow.svg" height="9px" *ngIf="item.isExpand" />
                      <img src="../../../assets/images/left-arrow.svg" height="14px" *ngIf="!item.isExpand"/>
                    </div>
                    <span style="padding-left: 10px;z-index: 9;" >{{item.title}}</span>
                  </div>
                  <ul *ngIf="item.children?.length && item.isExpand" class="leftPanel insideScroll " id="customScrollBar">
                    <li  *ngFor="let firstChild of item.children;let fIndex = index"  style="cursor: pointer" class="hoverPin">
                      <div  class="d-flex set paddingLeft" [ngClass]="sectorSelected?.uid === firstChild.uid && !isTrashView ? 'active-tab' : ''"
                            (click)="handleGotoBreadcrumb(firstChild, fIndex);selectedFolder2=firstChild;selectedFolder=firstChild; sectorSelected = firstChild; closeOtherSectore(firstChild, item.children)">
                        <!-- <div style="z-index: 9;"> -->

                          <!-- <img src="../../../assets/images/down-arrow.svg" height="9px" *ngIf="firstChild.isExpand" />
                          <img src="../../../assets/images/left-arrow.svg" height="14px" *ngIf="!firstChild.isExpand"/> -->

                        <!-- </div> -->
                        <!-- <div class="hoverTooltip">Pin this sector</div> -->
                        <span style="padding-left: 10px;z-index: 9;">
                          <a [routerLink]="['/workspace']" [queryParams]="{folder: firstChild.uid}" class="blackTetx">
                            {{firstChild.title}}
                          </a>
                        </span> <!--  class="pinIcon" -->
                      </div>

                    </li>
                  </ul>
                </li>
                <li style="cursor: pointer" [ngClass]="isTrashView ? 'active-tab' : ''" class="d-flex set" (click)="getTrashedWS()"><span>Trash</span></li>
              </ul>
            </div>
          <!-- </div> -->
        </div>
        <div class="col-xl-9 col-md-9 pl-5 pt-5 pb-5 bg-white positionRelative" style="min-height: 100vh;">
          <app-loader [show]="loading"></app-loader>
          <div class="no-items" *ngIf="folderNotFound">
            <img src="../../../assets/images/folder-delete-icon.svg" alt="This folder has been deleted" />
            This folder has been deleted
          </div>
          <div *ngIf="!folderNotFound">
            <div class="row" >
              <div class="col-xl-7">
                <div *ngIf="showSearchbar && !folderNotFound" class="pb-5">
                  <div style="position: relative;">
                    <form autocomplete="off" style="position: relative;">
                      <button class="primary search-btn"><img src="../../../assets/images/search.png" /></button>
                      <input [(ngModel)]="searchBarValue" (ngModelChange)="searchFolders($event)" name="searchBar" type="text" [placeholder]="getSearchPlaceholder()" class="search-bar">
                      <img *ngIf="searchBarValue"  style="cursor: pointer" (click)="searchBarValue = ''; getWorkspaceFolders(selectedFolder.uid, 1)" src="../assets/images/circle-close.png" class="placeholder-search">
                    </form>
                  </div>
                </div>
              </div>
              <div class="col-xl-5" >
                <div style="float: right; position: relative;">
                  <div class="deleted-by-me" *ngIf="isTrashView">
                    <label class="control control--checkbox" style="margin-bottom: 0px;float: left;">
                      Only show items removed by me
                      <input type="checkbox" checked="checked" (click)="myDeleted($event)" />
                      <div class="control__indicator" style="top: 0px;left: 0px;"></div>
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>


          <div *ngIf="selectedFolder && !folderNotFound" [ngClass]="{'animate__animated animate__fadeIn': showSearchbar}">
            <div class="header-content" *ngIf="!isTrashView" style="width: 100%;">
              <div *ngIf="selectedFolder2.uid !== parentId"  style="width: 100%;">
                <!-- <button mat-raised-button
                  matTooltip="{{sharedService.stringShortener(selectedFolder?.title, 1000)}}"
                  aria-label="Button that displays a tooltip when focused or hovered over">
                  {{sharedService.stringShortener(selectedFolder?.title, 30)}}
                </button> -->
                <span style="overflow: auto;" >
                  <span class="main-title tollTipCustom" *ngIf="!renameFolderName">{{sharedService.stringShortener(selectedFolder?.title, 28)}}
                    <img src="../../../assets/images/pencil-write.svg" alt="" *ngIf="showLinkCopy" class="renameFolderImg" (click)="renameFolderAction()" />
                    <div class="tolltipContent">
                      {{selectedFolder?.title}}
                    </div>
                  </span>
                  <!-- <div>
                     <input type="text" [(ngModel)]="newTitle" name="newTitle">
                     <button (click)="renameFolder()">update</button>
                  </div> -->


                  <span *ngIf="renameFolderName && showLinkCopy" style="display: flex; align-items: center;">
                    <label class="input-sizer customRenameBlock">
                      <input type="text" maxlength="60"
                      value="{{sharedService.stringShortener(selectedFolder?.title, 28)}}"
                      [(ngModel)]="newTitle"
                      (keyup.enter)="renameFolder()"
                      onInput="this.parentNode.dataset.value = this.value" placeholder="">
                    </label>
                    <div class="actionIcon">
                      <svg width="18" height="13" viewBox="0 0 18 13" fill="none" xmlns="http://www.w3.org/2000/svg" (click)="renameFolder()">
                        <path d="M6.99974 10.172L16.1917 0.979004L17.6067 2.393L6.99974 13L0.635742 6.636L2.04974 5.222L6.99974 10.172Z" fill="#DAAA00"/>
                      </svg>
                    </div>
                    <div class="actionIcon">
                      <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg" (click)="updateFolderAction()">
                        <path d="M6.99974 5.58623L11.9497 0.63623L13.3637 2.05023L8.41374 7.00023L13.3637 11.9502L11.9497 13.3642L6.99974 8.41423L2.04974 13.3642L0.635742 11.9502L5.58574 7.00023L0.635742 2.05023L2.04974 0.63623L6.99974 5.58623Z" fill="#DAAA00"/>
                      </svg>
                    </div>
                  </span>



                </span>
                <h6 class="tollTipCustom">
                  <span>/<a [ngClass]="breadCrumb.length !== 0 ? 'breadcrumb-active' : 'breadcrumb-not-active'" (click)="handleGotoBreadcrumb(folderStructure[0], null, 0)">All Workspace</a></span>
                  <span *ngFor="let c of breadCrumb; let i = index">
                    /<a [ngClass]="i !== breadCrumb.length - 1 ? 'breadcrumb-active' : 'breadcrumb-not-active'" (click)="handleGotoBreadcrumb(c, null, i + 1)">{{sharedService.stringShortener(c.title,40)}}</a>
                  </span>
                  <!-- <div class="tolltipContent" style="top: auto; bottom: -30px;">
                    {{sharedService.removeWrokspaceFromBreadcrumb(breadcrrumb)}}
                  </div> -->
                  <span *ngIf="showLinkCopy" class="copy-section" >
                    <a class="flexible">
                      <img src="../../../assets/images/copyIcon.png" style="width: 14px;margin-right: 6px;margin-left: 10px;">
                      <span class="copy-link pointer" (click)="copyToClipboard(sharedService.removeWrokspaceFromBreadcrumb(breadcrrumb))" style="color: #937206; font-size: 15px;">{{!copiedString ? 'Copy Link' : 'Copied!'}}</span>
                    </a>
                  </span>
                </h6>

                <div class="dateFileSize" *ngIf="showLinkCopy">
                  <ul>
                    <li *ngIf="selectedFolder.start">
                      <img src="../../../assets/images/calendar-icon.svg" alt="" /> {{getDateInFormat(selectedFolder.start)}}
                    </li>
                    <li>{{sortedData.length}} assets, {{getSelectedAssetsSize()}}</li>
                  </ul>
                </div>
              </div>
              <div class="views" *ngIf="selectedFolder.uid !== parentId">


                <!-- Back btn hide function pendign -->
                <!-- <div class="back-btn">
                  <svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M2.82783 6.99974L7.77783 11.9497L6.36383 13.3637L-0.000168125 6.99974L6.36383 0.635742L7.77783 2.04974L2.82783 6.99974Z" fill="#BAB8B2"/>
                  </svg> 
                  Back
                </div> -->

                <div style="position: relative; display: inline-block; vertical-align: top;">
                  <div class="deleteRecover">
                    <span class="deleteFolder" [ngClass]="checkEnableDeleteBtn() ? '' : 'btn-disabled'"  *ngIf="!isTrashView && checkEnableDeleteBtn()" (click)="deleteFolders()"><img src="../../../assets/images/delete-icon.svg">Delete</span>
                  </div>
                  <div class='buttonCreate'>
                    <a href="javascript:void(0)" *ngIf="!isTrashView" (click)="datePickerDefaultAction()"  class="createNew flexible"><img src="../../../assets/images/add.svg" style="margin-right: 8px;">Create new folder</a>
                  </div>
                  <div class='dropdownCreate createFolder'>
                    <form>
                      <div class="row">
                        <div class="col-xl-12">
                            <label>Folder Name</label><span class="placeholderText">e.g. Title of project or event</span>
                        </div>
                        <div class="col-xl-12">
                          <input [ngClass]="{'goldenText': folderNameRef}" [(ngModel)]="folderNameRef" name="folderNameRef" type="text" placeholder="Enter a folder name">
                        </div>
                      </div>
                      <div class="row mt-4">
                        <div class="col-xl-12">
                          <mat-accordion>
                            <mat-expansion-panel (opened)="panelOpenState = true"
                                                (closed)="panelOpenState = false">
                              <mat-expansion-panel-header>
                                <mat-panel-description>
                                  Show optional information
                                </mat-panel-description>
                              </mat-expansion-panel-header>
                              <div class="row mt-4">
                                <div class="col-xl-12">
                                    <label>Description </label><span class="placeholderText">Project or event description</span>
                                </div>
                                <div class="col-xl-12">
                                  <input [ngClass]="{'goldenText': folderDescriptionRef.value}" #folderDescriptionRef type="text">
                                </div>
                              </div>
                              <div class="row custom-date-picker mt-4">
                                <div class="col-xl-12 col-md-12">
                                  <label for="date">Associated Date</label>
                                </div>
                                <div class="col-xl-12 col-md-12 " >
                                  <mat-form-field appearance="fill">
                                    <div class="flexible">
                                      <input [ngClass]="{'goldenText': folderDateRef.value}" #folderDateRef matInput [matDatepicker]="picker" style="width: 88.2%; border-bottom: 1.5px solid #000;"
                                      placeholder="Choose a date"  (click)="picker.open(); datePickerDefaultAction()" >
                                      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                    </div>
                                      <mat-datepicker #picker></mat-datepicker>
                                  </mat-form-field>
                                </div>
                            </div>
                            </mat-expansion-panel>
                          </mat-accordion>
                        </div>
                      </div>
                      <div class="row mt-4">
                      <div class="col-xl-12">
                        <button class="createBtn btn tollTipCustom" (click)="createFolder(folderNameRef, folderDateRef.value, folderDescriptionRef.value)" [disabled]="!folderNameRef" style="pointer-events: auto;">
                          Create folder
                          <div *ngIf="!folderNameRef" class="tolltipContent" style="left: auto;right: 0px;top: -33px;">
                            Please complete all mandatory fields to proceed
                          </div>
                        </button>
                      </div>

                      </div>
                    </form>
                  </div>
                </div>






                
                <ul class="uploadAssetsClassifications" *ngIf="showLinkCopy">
                  <li (click)="openModal()" class="tollTipWorkspace workspaceInfoHover">
                    <!-- <svg width="24" height="24" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="classificationsIcon">
                      <path d="M15 29.0625V17.8125" stroke="#937206" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M10.3125 22.5L15 17.8125L19.6875 22.5" stroke="#937206" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                      <path d="M21.5625 19.6874H22.9687C25.5924 19.6918 27.9244 18.0164 28.7575 15.5284C29.5905 13.0405 28.7376 10.2986 26.6402 8.7223C24.5428 7.14597 21.6719 7.08909 19.5137 8.58112C18.6437 3.94906 14.4701 0.682968 9.7647 0.952001C5.05932 1.22103 1.28514 4.94155 0.948751 9.64258C0.612362 14.3436 3.81835 18.5636 8.43748 19.4999" stroke="#937206" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg> -->
                    <svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg" class="classificationsIcon">
                      <path d="M0 17H18V19H0V17ZM10 3.828V15H8V3.828L1.929 9.9L0.515 8.486L9 0L17.485 8.485L16.071 9.899L10 3.83V3.828Z" fill="#937206"/>
                    </svg>                      
                    <div class="customToolTipWorkspace">Upload here</div>
                  </li>
                  <li (click)="openUpdateClassModal(breadCrumb[0] ?breadCrumb[0] :null )" class="tollTipWorkspace" [ngClass]="{'uploadClassificationDisable':breadCrumb[0]? !upadtePermission(breadCrumb[0]) || !sortedData.length :true  }">
                    <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="classificationsIcon">
                      <path d="M28.1873 16.7728V1.58597C28.1873 1.26187 27.9357 1 27.625 1H1.56254C1.25178 1 1 1.26205 1 1.58597V28.539C1 28.8625 1.25176 29.125 1.56254 29.125H16.1391C16.4503 29.125 16.7017 28.8628 16.7017 28.539C16.7017 28.2153 16.4501 27.9531 16.1391 27.9531H2.12488V2.17203H27.0626V16.7726C27.0626 17.0961 27.3142 17.3586 27.6252 17.3586C27.9359 17.3588 28.1873 17.0965 28.1873 16.7728Z" fill="#937206" stroke="#937206" stroke-width="0.5"/>
                      <path d="M18.7656 8.5C19.3094 8.5 19.75 8.07979 19.75 7.5625C19.75 7.04492 19.3098 6.625 18.7656 6.625H7.6094C7.06559 6.625 6.625 7.04457 6.625 7.5625C6.625 8.08043 7.06556 8.5 7.6094 8.5H18.7656Z" fill="#937206"/>
                      <path d="M18.7656 14.125C19.3094 14.125 19.75 13.7048 19.75 13.1875C19.75 12.6699 19.3098 12.25 18.7656 12.25H7.6094C7.06559 12.25 6.625 12.6696 6.625 13.1875C6.625 13.7054 7.06556 14.125 7.6094 14.125H18.7656Z" fill="#937206"/>
                      <path d="M13.1406 19.75C13.6844 19.75 14.125 19.3298 14.125 18.8125C14.125 18.2949 13.6848 17.875 13.1406 17.875H7.6094C7.06559 17.875 6.625 18.2946 6.625 18.8125C6.625 19.3304 7.06556 19.75 7.6094 19.75H13.1406Z" fill="#937206"/>
                      <path d="M25.375 31C22.2684 31 19.75 28.4816 19.75 25.375C19.75 22.2684 22.2684 19.75 25.375 19.75C28.4816 19.75 31 22.2684 31 25.375C31 28.4816 28.4816 31 25.375 31ZM23.3296 26.0568C23.4028 25.978 23.526 25.9735 23.6048 26.0467L24.551 26.9254C24.6149 26.9847 24.716 26.9766 24.7695 26.9077L27.1471 23.8508C27.2131 23.7659 27.3355 23.7506 27.4204 23.8166C27.5053 23.8827 27.5206 24.0051 27.4546 24.09L24.8416 27.4494C24.7743 27.5359 24.6473 27.5462 24.5669 27.4716L23.3398 26.332C23.261 26.2588 23.2564 26.1356 23.3296 26.0568ZM25.375 30.6591C28.2933 30.6591 30.6591 28.2933 30.6591 25.375C30.6591 22.4567 28.2933 20.0909 25.375 20.0909C22.4567 20.0909 20.0909 22.4567 20.0909 25.375C20.0909 28.2933 22.4567 30.6591 25.375 30.6591Z" fill="#937206" stroke="#937206" stroke-width="1.2"/>
                    </svg>
                    <div class="customToolTipWorkspace" *ngIf="breadCrumb[0]? upadtePermission(breadCrumb[0]) &&  !!sortedData.length :false">Update classifications</div>
                    <div class="customToolTipWorkspace" *ngIf="breadCrumb[0]? upadtePermission(breadCrumb[0]) &&  !sortedData.length :false">There are no assets in the folder to update</div>
                    <div class="customToolTipWorkspace" *ngIf="breadCrumb[0]? !upadtePermission(breadCrumb[0]) :true">You do not have permissions to update classification</div>
                  </li>
                  <li *ngIf="checkForDescription()" class="workspaceInfoHover">
                    <svg width="24" height="24" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="classificationsIcon">
                      <path d="M16 1C7.72381 1 1 7.73207 1 16.0053C1 24.2786 7.72381 31 16 31C24.2762 31 31 24.2786 31 16.0053C31 7.73207 24.2762 1 16 1ZM16 2.37379C23.5392 2.37379 29.6364 8.46875 29.6364 16.0053C29.6364 23.5419 23.5392 29.6262 16 29.6262C8.46077 29.6262 2.36364 23.5419 2.36364 16.0053C2.36364 8.46875 8.46077 2.37379 16 2.37379ZM16 8.50797C15.6234 8.50797 15.3182 8.81311 15.3182 9.18954C15.3182 9.56597 15.6234 9.87113 16 9.87113C16.3766 9.87113 16.6818 9.56597 16.6818 9.18954C16.6818 8.81311 16.3766 8.50797 16 8.50797ZM15.9254 13.1552C15.756 13.1738 15.5996 13.2552 15.4872 13.3834C15.3748 13.5115 15.3145 13.677 15.3182 13.8474V22.8211C15.3169 22.9114 15.3336 23.0011 15.3673 23.0849C15.401 23.1687 15.451 23.245 15.5144 23.3093C15.5779 23.3736 15.6535 23.4247 15.7368 23.4595C15.8202 23.4944 15.9096 23.5124 16 23.5124C16.0904 23.5124 16.1798 23.4944 16.2632 23.4595C16.3465 23.4247 16.4221 23.3736 16.4856 23.3093C16.549 23.245 16.599 23.1687 16.6327 23.0849C16.6664 23.0011 16.6831 22.9114 16.6818 22.8211V13.8474C16.6839 13.7504 16.6652 13.6541 16.6271 13.5648C16.5889 13.4756 16.5321 13.3955 16.4605 13.33C16.3889 13.2645 16.3041 13.215 16.2119 13.1848C16.1196 13.1547 16.0219 13.1446 15.9254 13.1552Z" fill="#937206" stroke="#937206" stroke-width="0.6"/>
                    </svg>
                    <div class="workspaceInfo">
                      <div class="workspaceHeading">{{selectedFolder.title}}</div>
                      <p>{{selectedFolder?.properties['dc:description']}}</p>
                    </div>
                  </li>
                </ul>
                <div *ngIf="!showGridListButton() && !isTrashView" class="gallery-view-block">
                  <img src="../../../assets/images/gallery-view.svg" class="menu-icon" [ngClass]="selectedMenu === 0 ? 'active' : '' "
                  (click)="handleSelectMenu(0, 'GRID')">
                    <img src="../../../assets/images/list-view-icon.svg" class="menu-icon" [ngClass]="selectedMenu === 1 ? 'active' : '' "
                    (click)="handleSelectMenu(1, 'LIST')">
                </div>
              </div>
            </div>
            <div class="header-content" *ngIf="isTrashView" style="width: 100%;">
              <div>
                <span style="overflow: auto;">
                  <span class="main-title tollTipCustom"
                  >Trash
                </span>
                </span>
              </div>
              <div class="views">
                <div class="deleteRecover">
                  <span class="recoverFolder" [ngClass]="checkEnableDeleteBtn() ? '' : 'recover-btn-disabled'"  *ngIf="isTrashView && checkEnableDeleteBtn()" (click)="unTrashFolders()"><img src="../../../assets/images/recover-icon.svg">Recover selected items</span>
                </div>
                <div style="display: inline-block;">
                  <img src="../../../assets/images/gallery-view.svg" class="menu-icon" [ngClass]="selectedMenu === 0 ? 'active' : '' "
                  (click)="handleSelectMenu(0, 'GRID')">
                    <img src="../../../assets/images/list-view-icon.svg" class="menu-icon" [ngClass]="selectedMenu === 1 ? 'active' : '' "
                    (click)="handleSelectMenu(1, 'LIST')">
                </div>
              </div>
            </div>
            <div class="no-items" *ngIf="checkShowNoTrashItem()">
              <img src="../../../assets/images/no-items.svg" alt="No items here" />
              No items here
            </div>
            <div class="main-content row" *ngIf="selectedMenu === 0">
              <div class="col-xl-12 col-md-12" *ngIf="searchList && searchList.length">
                <!-- <ngx-masonry [options]="myOptions" [ordered]="true" (layoutComplete)="completeLoadingMasonry($event)" [updateLayout]="updateMasonryLayout"> -->
                <div *ngIf="selectedFolder.uid === parentId && !isTrashView" class="mb-5 text-center animate__animated animate__fadeIn">
                  <img src="../../../assets/images/sectorss.svg" style="margin-top: 48px;">
                  <p class="sectorssText">Choose a workspace on the left to begin</p>
                </div>
                <ul class="all-sectors" *ngIf="selectedFolder.uid !== parentId || isTrashView" [ngClass]="{'animate__animated animate__fadeIn' : selectedFolder.uid !== parentId || isTrashView}">
                  <li [ngClass]="{'inner-sectors': item.type=== 'Domain' }" *ngFor="let item of sortedData ; let i = index">
                    <span *ngIf="!checkAssetType(item.type) && !checkWSType(item.type)" class="folder-structure pointerCursor" (click)="handleViewClick(item, i);selectedFolder2=item;selectedFolder=item; createBreadCrumb(item.title, item.type, item.path)"
                      >{{item.title}}</span>

                    <div class="groupFolder" [ngClass]="selectedFolderList[i] != null ? 'checkDelete' : ''">
                      <div class="delete-folder-action" *ngIf="!checkAssetType(item.type) && checkWSType(item.type) && checkCanDelete(item)">
                        <div class="control-group">
                          <label class="control control--checkbox">
                            <input id="checkbox-{{i}}" type="checkbox" (change)="selectFolder($event, item, i)"/>
                            <div class="control__indicator"></div>
                          </label>
                        </div>
                      </div>
                      <div *ngIf="!checkAssetType(item.type) && checkWSType(item.type)" class="folder-structure" [ngClass]="{'pointerCursor': !isTrashView}"
                        (click)="handleTest(item);">
                        <!-- <img src="../../../assets/images/yellow-folder.png"> -->
                        <div class="folder-content">
                          <p class="tollTipCustom" style="white-space: normal;
                          width: 100%;
                          overflow: inherit;
                          text-overflow: inherit;">
                          {{sharedService.stringShortener(item.title, 16)}}
                            <span class="tolltipContent" style="bottom: -20px; top: auto; left: 50%; transform: translate(-50%, 0%);">
                              {{item.title}}
                            </span>
                          </p>
                          <span>{{ getFolderInfo(item) }}</span>
                        </div>

                      </div>
                    </div>


                      <!-- <div class="folder-content" style="background-color: #F9F7F2;">
                        <p class="tollTipCustom" style="    white-space: normal;
                        width: 100%;
                        overflow: inherit;
                        text-overflow: inherit;">
                          {{sharedService.stringShortener(item.title, 16)}}
                          <span class="tolltipContent" style="bottom: -20px; top: auto; left: 50%; transform: translate(-50%, 0%);">
                            {{item.title}}
                          </span>
                        </p>
                        <span>{{ getFolderInfo(item) }}</span>
                      </div> -->

                    <document-card *ngIf="checkAssetType(item.type)"
                      [doc]="item"
                      [viewType]="viewType"
                      (onOpenPreview)="open(item, item.type)"
                      (onSelect)="selectImage($event, item, i)"
                      (onMarkFavourite)="markFavourite(item, false)"
                      >
                    </document-card>
                  </li>
                </ul>
                <!-- <div style="text-align: center;">
                  <button *ngIf="checkWSType(selectedFolder.type) && showMoreButton && (searchList.length != selectedFolder?.contextParameters?.folderAssetsCount)" class="showMoreBtn" (click)="showMore(selectedFolder.uid)">Show more</button>
                </div> -->
              </div>
            </div>

            <div class="row justify-content-between pt-25" *ngIf="selectedMenu === 1" style="width: 100%; --bs-gutter-x: 0px;">
              <div  class="col-xl-12 col-md-12">
                <table matSort (matSortChange)="sortData($event)" class="folderListview pb-5" *ngIf="searchList.length">
                    <tr>
                      <th style="width:6%">&nbsp;&nbsp;</th>
                      <th mat-sort-header="title" width="30%" style="padding-left: 35px;">{{ !showLinkCopy ? 'Folder name' : 'Asset name'}}</th>
                      <th mat-sort-header="dc:creator" width="20%">Created by</th>
                      <!-- <th width="20%">Last Updated by</th> -->
                      <th *ngIf="!isTrashView" mat-sort-header="dc:created" width="20%">Created on</th>
                      <th *ngIf="isTrashView" mat-sort-header="dc:modified" width="20%">Deleted on</th>
                      <!-- <th mat-sort-header="dc:start" *ngIf="!showLinkCopy && !isTrashView" width="20%">Associated date</th> -->
                      <!-- <th mat-sort-header="dc:start" *ngIf="isTrashView" width="20%">Deleted on</th> -->
                      <th mat-sort-header="dc:sector" *ngIf="isTrashView" width="20%">Workspace</th>
                    </tr>
                    <tr *ngFor="let item of sortedData ; let i = index" [ngClass]="selectedFolderList[i] != null ? 'checkDelete' : ''" class="groupFolder">
                      <td><div class="delete-folder-action" *ngIf="!checkAssetType(item.type) && checkWSType(item.type) && checkCanDelete(item)">
                        <div class="control-group">
                          <label class="control control--checkbox">
                            <input id="checkbox-{{i}}" type="checkbox" (change)="selectFolder($event, item, i)"/>
                            <div class="control__indicator"></div>
                          </label>
                        </div>
                      </div>
                      <td *ngIf="!checkAssetType(item.type)" (click)="handleTest(item);selectedFolder=item;" [ngClass]="{'pointerCursor': !isTrashView}" style="display: flex">
                        <img [src]="getIconByType(item.type)" style="width: 15px;margin-right: 10px;object-fit: contain;">
                        <p style="text-align: left; word-break: break-all;">{{item.title}}</p>
                      </td>
                      <td *ngIf="checkAssetType(item.type)" (click)="open(item, item.type)" [ngClass]="{'pointerCursor': !isTrashView}" style="display: flex">
                        <img [src]="getAssetUrl(null, item.contextParameters.thumbnail.url)" style="width: 30px;margin-right: 10px;object-fit: contain;">
                        <p style="text-align: left">{{item.title}}</p>
                      </td>
                      <td class="tollTipCustom">
                        <p>{{item.properties['dc:creator']}}</p>
                        <p class="tolltipContent">{{item.properties['dc:creator']}}</p>
                      </td>
                      <!-- <td><p>Luis C</p></td> -->
                      <td *ngIf="!isTrashView"><p>{{getDateInFormat(item.properties['dc:created'])}}</p></td>
                      <td *ngIf="isTrashView"><p>{{getDateInFormat(item.properties['dc:modified'])}}</p></td>
                      <!-- <td *ngIf="!showLinkCopy && !isTrashView"><p>{{item.properties['dc:start'] ? getDateInFormat(item.properties['dc:start']) : ''}}</p></td> -->
                      <!-- <td *ngIf="isTrashView"><p>{{item.lastModified ? getDateInFormat(item.lastModified) : ''}}</p></td> -->
                      <td *ngIf="isTrashView"><p>{{item.properties['dc:sector'] || ''}}</p></td>
                    </tr>
                </table>
              </div>
              <!-- <div class="col-xl-6 col-md-6" *ngFor="let item of searchList; let i = $index">
                <div *ngIf="!checkAssetType(item.type)" class="list-container"  data-toggle="tooltip" data-placement="right" title="{{item.title}}">
                  <div class="list-image col-xl-2 col-md-2">
                    <fa-icon [icon]="['fas', 'image']" class="icons"></fa-icon>
                  </div>
                  <div class="col-xl-10 col-md-10">
                    <h5 class="list-title">{{item.title}}</h5>
                    <h6>Created by {{item.properties['dc:creator']}}</h6>
                  </div>
                </div>
                <ul>
                  <li *ngIf="checkAssetType(item.type)" style="margin-bottom: 20px;">
                    <document-card
                      [doc]="item"
                      [viewType]="viewType"
                      (onOpenPreview)="open(item, item.type)"
                      (onSelect)="selectImage($event, item, i)"
                      (onMarkFavourite)="markFavourite(item, false)"
                      >
                    </document-card>
                  </li>
                </ul>
              </div> -->
              <!-- <div style="text-align: center;">
                <button class="" *ngIf="checkWSType(selectedFolder.type) && showMoreButton && (searchList.length != selectedFolder.contextParameters.folderAssetsCount)" class="showMoreBtn" (click)="showMore(selectedFolder.uid)">Show more</button>
              </div> -->
            </div>
            <div class="main-content row" *ngIf="selectedMenu === 2">
              <div class="col-xl-12 col-md-12 list-container" *ngFor="let item of searchList ;">
                  <h5 class="list-title">{{item.title}}</h5>
                  <h6 class="mt-2">By  <fa-icon [icon]="['fas', 'user-circle']" class="person-icons"></fa-icon> {{item.properties['dc:creator']}}</h6>
              </div>
            </div>

            <preview-popup #previewModal [doc]="selectedFile" [docUrl]="selectedFileUrl"></preview-popup>
          </div>
          <mat-paginator
            *ngIf="selectedFolder.uid !== parentId"
            #paginator
            [length]="resultCount"
            [pageSize]="defaultPageSize"
            [pageSizeOptions]="pageSizeOptions"
            (page)="paginatorEvent($event)"
            aria-label="Select page">
          </mat-paginator>
        </div>
      </div>
    </div>

  </section>

</section>
<!-- <button mat-fab class="float" color="primary" aria-label="Add" (click)="openUpdateClassModal()">
  <mat-icon>add</mat-icon>
</button> -->
