<header class="updateHeader">
  <div class="container">
    <div class="row flexible">
      <div class="col-xl-3 col-xs-3">
          <nav class="navbar navbar-expand-lg navbar-light ">
            <div class="logo-block">
              <a *ngIf="!checkExternalUser(true)" [routerLink]="['/']" (click)="resetFilter(); selectTab('search')" style="text-decoration: none; color: #fff;"><img src="../../../assets/images/groundx-logo-white.svg" alt="Ground-X" class="header-logo" /></a>
              <a *ngIf="checkExternalUser(true)" style="text-decoration: none; color: #fff;"><img src="../../../assets/images/groundx-logo-white.svg" alt="Ground-X" class="header-logo" /></a>
            </div>
            <span class="main-title tollTipCustom">
              <img class="play-button" src="../../../assets/images/button-play.svg" alt="" (click)="openSm(content)" />
              <div class="tolltipContent">
                Watch personalized video
              </div>
            </span>
          </nav>
      </div>
      <div class="col-xl-9 col-xs-9">
        <div class="customSearchBar" style="min-height: 51px;">
          <!-- <div style="position: relative;z-index: 99;" class="searchDiv">
            <form autocomplete="off">
              <button class="primary search-btn"><img src="../../../assets/images/search-icon.svg" /></button>
              <input type="text" placeholder="Search" class="search-bar" [ngClass]="{'removeBorderRadious': searchPopup}" (focus)='focusOnSearch()' (blur)="blurOnSearch()">
              <img style="cursor: pointer" src="../assets/images/circle-close.png" class="placeholder-search">

              <div class="searchPopup" *ngIf="searchPopup" id="customScrollBar">

                <div class="search-list">
                  <a href="#">Traveller</a>
                  <a href="#">Travelling</a>
                  <a href="#">Tourism</a>
                  <a href="#">Tourist</a>
                  <a href="#">Trip</a>
                </div>

                <div class="recent-searches">
                  <div class="heading">Workspace Folders</div>
                  <ul class="recent-searches-folder workspaceFoldersScrollBar">
                    <li>
                      <img src="../../../assets/images/icon_folder_gray.svg" alt="" class="folder-icon" />
                      <span class="folder-text">2021_Traveller_Marketing_Material_Marketing_Material_02_03_2022</span>
                      <span class="workspace-folders">/Marketing</span>
                    </li>
                    <li>
                      <img src="../../../assets/images/icon_folder_gray.svg" alt="" class="folder-icon" />
                      <span class="folder-text">2021_Traveller_Marketing_Material_02_03_2022</span>
                      <span class="workspace-folders">/Marketing</span>
                    </li>
                    <li>
                      <img src="../../../assets/images/icon_folder_gray.svg" alt="" class="folder-icon" />
                      <span class="folder-text">2021_Traveller_Marketing_Material_Marketing_Material_02_03_2022</span>
                      <span class="workspace-folders">/Education, Research and Innovation</span>
                    </li>
                    <li>
                      <img src="../../../assets/images/icon_folder_gray.svg" alt="" class="folder-icon" />
                      <span class="folder-text">2021_Traveller_Marketing_Material_02_03_2022</span>
                      <span class="workspace-folders">/Marketing</span>
                    </li>
                    <li>
                      <img src="../../../assets/images/icon_folder_gray.svg" alt="" class="folder-icon" />
                      <span class="folder-text">2021_Traveller_Marketing_Material_Marketing_Material_02_03_2022</span>
                      <span class="workspace-folders">/Marketing</span>
                    </li>
                    <li>
                      <img src="../../../assets/images/icon_folder_gray.svg" alt="" class="folder-icon" />
                      <span class="folder-text">2021_Traveller_Marketing_Material_02_03_2022</span>
                      <span class="workspace-folders">/Education, Research & I</span>
                    </li>
                    <li>
                      <img src="../../../assets/images/icon_folder_gray.svg" alt="" class="folder-icon" />
                      <span class="folder-text">2021_Traveller_Marketing_Material_02_03_2022</span>
                      <span class="workspace-folders">/Education, Research & I</span>
                    </li>
                  </ul>
                </div>

                <div class="recent-searches">
                  <div class="heading">Your Recent Searches</div>
                  <ul class="recent-searches-tags">
                    <li><a href="#">Fox</a></li>
                    <li><a href="#">Animals</a></li>
                    <li><a href="#">Mountain</a></li>
                    <li><a href="#">Wildlife</a></li>
                    <li><a href="#">Nature</a></li>
                    <li><a href="#">Horizon</a></li>
                  </ul>
                </div>

                <div class="recent-searches">
                  <div class="heading">Your Recent Searches</div>
                  <ul class="recent-searches-tags">
                    <li><a href="#">Sunset</a></li>
                    <li><a href="#">Mountain</a></li>
                    <li><a href="#">Building</a></li>
                    <li><a href="#">Ocean</a></li>
                    <li><a href="#">Construction</a></li>
                    <li><a href="#">City</a></li>
                    <li><a href="#">Nature</a></li>
                    <li><a href="#">Sky</a></li>
                    <li><a href="#">Sun</a></li>
                    <li><a href="#">NEOM</a></li>
                    <li><a href="#">Clouds</a></li>
                    <li><a href="#">Environment</a></li>
                  </ul>
                </div>

                <div class="recent-searches">
                  <div class="heading">Random Search</div>
                  <ul class="recent-searches-tags">
                    <li class="show-something"><a href="#">Show me something cool</a></li>
                  </ul>
                </div>

              </div>
            </form>
          </div> -->
        </div>
          <nav class="navbar navbar-expand-lg navbar-light rightNav" style="float: right;">
              <div class=" navbar-collapse" id="navbarSupportedContent">
                  <ul class="navbar-nav me-auto  mb-lg-0 rightDrop flexible">
                    <li *ngIf="!checkExternalUser()">
                      <a class="nav-link uploadBtn tooltipCustom" (click)="openModal()">Upload</a>
                    </li>
                    <!-- <li class="nav-item">
                      <a class="nav-link tooltipCustom" aria-current="page" >
                        <img src="../../../assets/images/menu-right.svg">
                      </a>
                    </li> -->
                    <!-- <li class="nav-item">
                      <a class="nav-link tooltipCustom" placement="bottom" ngbTooltip="This function will be available soon" aria-current="page"  style="opacity: 0.6;cursor: not-allowed;">
                        <img src="../../../assets/images/alarm-bell.svg">
                      </a>
                    </li> -->

                    <li class="nav-item dropdown">
                      <a class="nav-link dropdown-toggle" href="#" id="notificationDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <div class="notifactionBlk">
                          <img src="../../../assets/images/alarm-bell.svg">
                          <div class="notifactionCount">{{notifications?.length || 0}}</div>
                        </div>
                      </a>
                      <div class="dropdown-menu borderNone" aria-labelledby="notificationDropdown">
                        <div *ngIf="!notifications?.length" style="margin: 15px 20px;" class="empty-notification">
                          <img style="width: 30%;" src="../../../assets/images/alarm-bell-1.svg">
                          <div style="margin-top: 20px; font-size: 18px; font-weight: 600;">You're all caught up</div>
                          <div style="margin-top: 25px; font-size: 18px">Check back later for new notifications.</div>
                        </div>
                        <div *ngIf="notifications?.length > 0" id="customScrollBar" class="notificationDropdown">
                          <!-- No Notifaction show block start -->
                          <!-- <div class="no-notifaction">
                            <img src="../../../assets/images/alarm-bell-1.svg" alt="" />
                            <div class="no-notifactionContent">
                              <span>You're all caught up</span>
                              Check back later for new notifications.
                            </div>
                          </div> -->
                          <!-- No Notifaction show block end -->
                          <ul>
                            <li *ngFor="let item of notifications | slice:0:10">
                              <div (click)="goToNotificationLink(item)" style="cursor: pointer;">
                                <div class="notifactionHead">
                                  {{buildNotificationTitle(item)}}
                                </div>
                                <div class="notifactionImgCont">
                                  <div class="notifactionImg">
                                    <img src="{{buildNotificationIcon(item)}}" alt="" />
                                  </div>
                                  <div class="notifactionCont">
                                    {{item.extended.title}}
                                  </div>
                                </div>
                                <div class="dayWeek">
                                  {{getNotificationSince(item)}}
                                </div>
                              </div>
                            </li>
                          </ul>

                          <div class="view-all-notifaction">
                            <span (click)="allNotifactionOpen(allNotifactionContent)">View all notifications</span>
                          </div>
                        </div>
                      </div>
                    </li>

                    <li class="nav-item dropdown">
                      <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <img src="../../../assets/images/greenUser.png" style="border-radius: 50%;border: 2px solid #fff;" width="26" height="26">
                      </a>
                      <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" [routerLink]="['/workspace']" >Workspace</a></li>
                        <!-- <li><a class="dropdown-item tooltipCustom"  style="cursor: not-allowed;" placement="bottom" ngbTooltip="This function will be available soon">Collections</a></li>
                        <li><a class="dropdown-item tooltipCustom"  style="cursor: not-allowed;" placement="bottom" ngbTooltip="This function will be available soon">Tasks</a></li> -->
                        <li><a class="dropdown-item favorites"  placement="bottom" (click)="toFavouriteSection(); selectTab('favourite')" [routerLink]="['/']" fragment="favorites">Favourites</a></li>
                        <li *ngIf="checkForUserGroup()"><a class="dropdown-item" [routerLink]="['/report']">Analytics</a></li>
                        <li class="logout-line"><a class="dropdown-item" (click)="logout()">Logout</a></li>
                      </ul>
                    </li>
                  </ul>
              </div>
          </nav>
      </div>
    </div>
  </div>

  <ng-template #content let-modal>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click'); closeModal()">
      <img src="../../../assets/images/modalclose.svg" />
    </button>
    <div class="modal-body fixx">
      <app-loader-small [show]="modalLoading"></app-loader-small>
      <div class="modal-body-content" *ngIf="hideVideo && !videoResponse && !videoCompleted && showItemOnlyOnce" (click)="clickVideoIcon()">
        <div class="playIcon"></div>
        <img src="../../../assets/images/video-background-pic.png" />
      </div>
      <div class="select-an-area" *ngIf="selectArea && !videoResponse && !videoCompleted && showItemOnlyOnce">
        <img src="../../../assets/images/logo-neom.png" class="logo" />
        <h3>Please select an area of interest.</h3>
        <ng-select
          class="pointer"
          [items]="allSectors"
          ngDefaultControl
          placeholder="Select a sector"
          [(ngModel)]="sectorSelected"
          bindLabel="label"
          bindValue="value"
          [closeOnSelect]
          [searchable]="false" [clearable]="false">
        </ng-select>
        <div *ngIf="sectorSelected" class="next-arrow">
          <!-- <i (click)="playPersonalizedVideo()" class="fa fa-arrow-circle-o-right" style="cursor: pointer;" aria-hidden="true"></i> -->
          <img src="../../../assets/images/left-arrow-video.svg" class="logo pointer" (click)="playPersonalizedVideo()" />
        </div>

      </div>

      <div class="" *ngIf="defaultVideoSrc && !videoCompleted">
       <div class="ssector">
        <!-- <span>Change sector</span> -->
        <ng-select [items]="allSectors" class="sectorsss" id="customScrollBar"
          ngDefaultControl
          placeholder="Select a sector"
          [(ngModel)]="sectorSelected"
          bindLabel="label"
          bindValue="value"
          (change)="playPersonalizedVideo()"
          [closeOnSelect]
          [searchable]="false" [clearable]="false"
          >
        </ng-select>
       </div>
          <video *ngIf="videoResponse" style="width: 100%" preload="false" autoplay  controls tabindex="0">
            <source [src]=defaultVideoSrc type="video/mp4" />
          </video>
      </div>


      <!-- video thankyou section -->
      <div *ngIf="videoCompleted" class="thankyou-popup text-center">
        <div class="">
          <img src="../../../assets/images/logo-neom.png" style="width: 50px;">
          <h2>Thanks for watching.</h2>
          <p>Start discovering NEOM’s digital assets by using the search. You can search with a specific keyword, select a sector and get keyword suggestions from the Ground X AI.</p>
          <img (click)="modal.dismiss('Cross click'); closeModal()" src="../../../assets/images/Btn Next.png" style="width: 30px; cursor: pointer;">
        </div>
      </div>
    </div>

  </ng-template>
  <!-- sprint16 end -->

  <ng-template #allNotifactionContent let-modal>
    <button type="button" class="close closeNotifaction" aria-label="Close" (click)="modal.dismiss('Cross click'); closeModal()">
      <svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M1.0625 32.936L32.9375 1.06104" stroke="#040404" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M32.9375 32.936L1.0625 1.06104" stroke="#040404" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    <div class="modal-body fix-notifaction">
      <h1>Notifications</h1>
      <div id="customScrollBar" class="notificationModal">
        <div *ngIf="thisWeekNoti.length > 0" class="weekHead">This week</div>
        <div *ngIf="thisWeekNoti.length > 0" class="notifactionList">
          <ul>
            <li *ngFor="let item of thisWeekNoti">
              <div (click)="modal.dismiss('Cross click'); closeModal(); goToNotificationLink(item)" style="cursor: pointer;">
                <div class="notifactionListContLeft">
                  <p>{{buildNotificationTitle(item)}}</p>
                  <div class="notifactionImgCont">
                    <div class="notifactionImg"><img src="{{buildNotificationIcon(item)}}" alt=""></div>
                    <div class="notifactionCont">{{item.extended.title}}</div>
                  </div>
                </div>
                <div class="notifactionListContRight">
                  {{getNotificationSince(item)}}
                </div>
              </div>
            </li>
          </ul>
        </div>

        <div *ngIf="earlierNoti.length > 0" class="weekHead mt30">Earlier</div>
        <div *ngIf="earlierNoti.length > 0" class="notifactionList">
          <ul>
            <li *ngFor="let item of earlierNoti">
              <div (click)="modal.dismiss('Cross click'); closeModal(); goToNotificationLink(item)" style="cursor: pointer;">
                <div class="notifactionListContLeft">
                  <p>{{buildNotificationTitle(item)}}</p>
                  <div class="notifactionImgCont">
                    <div class="notifactionImg"><img src="{{buildNotificationIcon(item)}}" alt=""></div>
                    <div class="notifactionCont">{{item.extended.title}}</div>
                  </div>
                </div>
                <div class="notifactionListContRight">
                  {{getNotificationSince(item)}}
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </ng-template>

</header>
