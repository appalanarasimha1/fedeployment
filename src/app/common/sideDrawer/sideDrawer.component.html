<!-- <app-loader [show]="loading"></app-loader> -->
<section *ngIf="isOpen" class="filter-modal pt-5">
  <div class="filter-box">
    <div class="filter-background">


    <div class="filter-box-header">
      <img src="../../assets/images/modalclose.svg" (click)="closeModal()" style="cursor: pointer;width: 20px">
      <span style="font-size: 20px;margin-left: 108px;" *ngIf="selectedType === 'all'"> Filter all assets</span>
      <span style="font-size: 20px;margin-left: 108px;" *ngIf="selectedType === 'Picture'"> Filter images</span>
      <span style="font-size: 20px;margin-left: 108px;" *ngIf="selectedType === 'Video'"> Filter videos</span>
      <span style="font-size: 20px;margin-left: 108px;" *ngIf="selectedType === 'File'"> Filter files</span>
      <div (click)="closeModal()" style="cursor: pointer;" class="filter-assets-count">Show {{count()}} assets</div>
    </div>
    <div class="filter-form">
      <div class="filter-form-left">
        <div class="filter-form-row">
          <div class="filter-dropdown-label">Format</div>
          <ng-multiselect-dropdown
            [settings]="dropdownSettings"
            [data]="mimeTypeData"
            [ngModel]="selectedMimetypeByType"
            (onSelect)="selectMimeType($event)"
            (onSelectAll)="selectMimeType($event)"
            (onDeSelect)="deSelectFormat($event)"
            (onDeSelectAll)="deSelectFormat($event)"
          ></ng-multiselect-dropdown>
        </div>
        <div *ngIf="selectedType === 'all' || selectedType === 'Picture'" class="filter-form-row">
          <div class="filter-dropdown-label">Image width</div>
          <ng-multiselect-dropdown
            [settings]="dropdownSettings"
            [data]="assetWidthData"
            [ngModel]="searchCriteria.asset_width_agg"
            (onSelect)="selectWidth($event)"
            (onSelectAll)="selectWidth($event)"
            (onDeSelect)="deSelectWidth($event)"
            (onDeSelectAll)="deSelectWidth($event)"
          ></ng-multiselect-dropdown>
        </div>
        <div *ngIf="selectedType === 'all' || selectedType === 'Picture'" class="filter-form-row">
          <div class="filter-dropdown-label">Image height</div>
          <ng-multiselect-dropdown
            [settings]="dropdownSettings"
            [data]="assetHeightData"
            [ngModel]="searchCriteria.asset_height_agg"
            (onSelect)="selectHeight($event)"
            (onSelectAll)="selectHeight($event)"
            (onDeSelect)="deSelectHeight($event)"
            (onDeSelectAll)="deSelectHeight($event)"
          ></ng-multiselect-dropdown>
        </div>
      </div>
      <div class="filter-form-right">
        <!-- <div class="filter-form-row">
          <div class="filter-dropdown-label">Date uploaded</div>
          <ng-multiselect-dropdown
            [settings]="dropdownSettings"
            [data]="createdAtData"
            [ngModel]="searchCriteria.dublincore_created_agg"
            (onSelect)="selectCreatedAt($event)"
            (onSelectAll)="selectCreatedAt($event)"
            (onDeSelect)="deSelectCreatedAt($event)"
            (onDeSelectAll)="deSelectCreatedAt($event)"
          ></ng-multiselect-dropdown>
        </div> -->
        <div *ngIf="selectedType === 'all' || selectedType === 'Video'" class="filter-form-row">
          <div class="filter-dropdown-label">Video duration</div>
          <ng-multiselect-dropdown
            [settings]="dropdownSettings"
            [data]="videoSizeData"
            [ngModel]="searchCriteria.video_duration_agg"
            (onSelect)="selectVideoDuration($event)"
            (onSelectAll)="selectVideoDuration($event)"
            (onDeSelect)="deSelectVideoDuration($event)"
            (onDeSelectAll)="deSelectVideoDuration($event)"
          ></ng-multiselect-dropdown>
        </div>

      </div>
    </div>
    <div class="row makePrivate">
      <div class="col-xl-12">
        <label class="control control--checkbox">
          <input
            autocomplete="off"
            type="checkbox"
            checked="checked"
            (change)="onCheckIncludePrivate($event)"
            [(ngModel)]="includePrivate"
            [ngModelOptions]="{standalone: true}"
          />
          Only show assets that can be used publicly
         <div class="control__indicator" style="top: -1px;left: 0px;"></div>
        </label>
      </div>
      <div class="col-xl-12">
        <label class="control control--checkbox">
          <input
            autocomplete="off"
            type="checkbox"
            checked="checked"
            (change)="onCheckDownloadApproval($event)"
            [(ngModel)]="downloadApproval"
            [ngModelOptions]="{standalone: true}"
          />
          Only show assets that don't require usage approval
         <div class="control__indicator" style="top: -1px;left: 0px;"></div>
        </label>
      </div>
    </div>
  </div>
  </div>
</section>
