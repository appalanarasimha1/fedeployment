<div class="upload-modal">
  <div class="upload-modal-step">{{step !== 2 ? stepLabel : '' }}</div>
  <div *ngIf="step === 1">
    <div class="publish-summary">
      <div class="assets-details">
        <div class="flexible">
          <img src="../../assets/images/upload.png">
          <!-- <mat-icon>folder</mat-icon> -->
        <span style="margin-left: 10px; display: block;font-weight: 600;" class="tollTipCustom">{{ sharedService.stringShortener(selectedFolder.title, 40) }}
        <div class="tolltipContent">
          {{selectedFolder.title}}
        </div>
      </span>
        </div>
      </div>

      <div class="publish-summary-location flexible" style="display: inline-block; text-align: right;">
        <div style="margin-left: 20px;padding-bottom: 5px;" class="">
          <!-- <mat-icon>calendar_today</mat-icon> -->
          <img src="../../assets/images/calendar.png" style="display: inline-block;padding-right: 0px; vertical-align: top;">
          <span style="margin-left: 5px; display: inline-block; font-weight: 600;">{{ showLocaleDate() }}</span>
        </div>
        <span style="padding-right: 3px; color: #413E3C; font-weight: normal;">{{ getSelectedAssetsTitle() }}, </span>
        <span style="color: #413E3C;font-weight: normal;">{{ getSelectedAssetsSize() }}</span>

      </div>
    </div>

    <div class="publish-file-preview-groups" style="width: 100%;" id="customScrollBar" >
      <div *ngFor="let doc of docs; let i = index" class="publish-file-preview">
        <div class="row" style="width: 100%;">
          <div class="col-xl-6">
            <div class="publish-file-preview-img">
              <img alt="preview" class="preview-img"
                [src]="getAssetUrl(null, doc.contextParameters.thumbnail?.url)"/>
              <span class="tollTipCustom">{{ sharedService.stringShortener(doc.title, 20) }}
                <div class="tolltipContent">
                  {{doc.title}}
                </div>
              </span>

              <div class="copyright-information">
                <div (click)="openCopyright(i)" *ngIf="!openCopyrightMap[i]">
                 <img src="../../assets/images/add-copyright-golden.svg" alt="Add copyright information" /> Add copyright information
                </div>
                <div *ngIf="openCopyrightMap[i] || this.copyrightUserMap[i]" class="copyright-form">
                   <ul>
                      <li>
                         <img (click)="closeCopyright(i)" src="../../assets/images/add-circle-brown.svg" alt="Copyright Owner" />
                      </li>
                      <li [ngClass]="{'goldenText':copyrightUserMap[i] }">
                         <div class="copyright-input-block" >
                          â’¸ <input type="text" placeholder="Copyright Owner" [(ngModel)]="copyrightUserMap[i]" class="copyright-input">
                         </div>
                      </li>
                      <li>
                          <ng-select [items]="years" [searchable]="false" [clearable]="false"
                             bindLabel="name"
                             [(ngModel)]="copyrightYearMap[i]"
                             placeholder="Year"  [ngClass]="{'goldenText': copyrightYearMap[i] }" ngDefaultControl>
                          </ng-select>
                      </li>
                   </ul>
                </div>
             </div>
            </div>
          </div>
          <div class="col-xl-6">
            <div class="publish-file-preview-access">
              <div class="upload-form-input row">
                <div class="col-xl-4">
                  <label for="confidentiality">Confidentiality</label>
                </div>
                <div class="col-xl-8 ">
                  <!-- <select name="confidentiality" (change)="onSelectConfidentiality($event.target.value, i)" id="confidentiality" [ngClass]="{'goldenText': customConfidentialityMap[i] }">
                    <option hidden disabled selected value></option>
                    <option [selected]="customConfidentialityMap[i] === c.value" *ngFor="let c of CONFIDENTIALITY | keyvalue" value="{{c.value}}">{{ c.value }}</option>
                  </select> -->

                  <ng-select name="confidentiality" [searchable]="false" [clearable]="false"
                  (change)="onSelectConfidentiality(i)"
                  [(ngModel)]="customConfidentialityMap[i]"
                  id="confidentiality"
                  [ngClass]="{'goldenText': customConfidentialityMap[i] }">
                    <ng-option *ngFor="let c of CONFIDENTIALITY | keyvalue" value="{{c.value}}">{{ CONFIDENTIALITY_LABEL[c.value] }}
                    </ng-option>
                 </ng-select>
                </div>

              </div>
              <div class="upload-form-input row">
                <div class="col-xl-4">
                  <label for="access">Show to</label>
                </div>
                <div class="col-xl-8">
                  <!-- <select name="access" (change)="onSelectAccess($event.target.value, i)" id="access" [ngClass]="{'goldenText': customAccessMap[i] }" >
                    <option hidden disabled selected value></option>
                    <option [selected]="customAccessMap[i] === c.value"  [disabled]="checkAccessOptionDisabled(c.value, i)" *ngFor="let c of ACCESS | keyvalue" value="{{c.value}}">{{ c.value }}</option>
                  </select> -->


                  <ng-select name="access"
                  (change)="onSelectAccess(i)" [searchable]="false" [clearable]="false"
                  id="access"
                  [(ngModel)]="customAccessMap[i]"
                  [ngClass]="{'goldenText': customAccessMap[i] }">
                    <!-- <ng-option  hidden disabled selected value></ng-option> -->
                    <ng-option [disabled]="checkAccessOptionDisabled(c.value, i)" *ngFor="let c of ACCESS | keyvalue" value="{{c.value}}">{{ ACCESS_LABEL[c.value] }}
                    </ng-option>
                 </ng-select>
                </div>

              </div>
              <div *ngIf="checkShowUserDropdown(i)" class="upload-form-input row" style="display: flex;">
                <div class="col-xl-4">
                  <label for="user">Users</label>
                </div>
                <div class="col-xl-8">
                  <ng-select
                  [items]="userList$ | async"
                  bindLabel="id"
                  bindValue="id"
                  [multiple]="true"
                  [hideSelected]="true"
                  [trackByFn]="trackByFn"
                  [minTermLength]="2"
                  [loading]="userLoading"
                  typeToSearchText="Search users"
                  [typeahead]="userInput$"
                  [(ngModel)]="customUsersMap[i]"
                  [ngClass]="{'goldenText': customUsersMap[i]}">
                  <ng-template ng-option-tmp let-item="item">
                    {{item.id}} ({{item.fullname}})
                  </ng-template>
                </ng-select>
                </div>

              </div>
               <div class="upload-form-input row">
                <div class="col-xl-4">
                   <label for="allow">Allow use</label>
                </div>
                <div class="col-xl-8">
                  <ng-select name="allow" [searchable]="false" [clearable]="false"(change)="onSelectAllow($event.target.value, i)" id="allow" [ngClass]="{'goldenText': customAllowMap[i] }" [(ngModel)]="customAllowMap[i]">
                    <!-- <ng-option  hidden disabled selected value></ng-option> -->
                    <ng-option *ngFor="let c of ALLOW | keyvalue" value="{{c.value}}" [disabled]="checkAccessOptionDisabled(c.value, i)">{{ ALLOW_LABEL[c.value] }}
                    </ng-option>
                 </ng-select>
                </div>
              </div>
            </div>
          </div>
        </div>


      </div>
    </div>

  </div>
  <div *ngIf="step === 2">
    <div class="finish-screen">
      <!-- <mat-icon>upload</mat-icon> -->
      <span>Your assets have been successfully updated.</span>
      <div class="destination-folder">
        <!-- <img src="./assets/images/folder-img.png" alt="folder" /> -->
        <span class="assetName">{{ selectedFolder.title }}</span>
      </div>
      <div (click)="closeModal()" class="close-modal">
        <!-- <mat-icon>close</mat-icon> -->
        Close
      </div>
    </div>
  </div>
  <div class="button-groups" *ngIf="step !== 2">
    <button (click)="closeModal()" class="cancel-btn">Cancel</button>
    <div class="progress-btns">
      <button class="upload-btn" (click)="classificationsUpdate()">Update</button>
    </div>
  </div>
</div>