<div class="upload-modal">
    <button type="button" class="close-modal-icon" aria-label="Close" (click)="closeModal()">
       <img src="../../assets/images/close-modal.svg" style="width: 20px" />
    </button>
    <div class="contentBlockOverflow">
        <div class="uploadHeading">New Installation ID</div>
        <img src="../../assets/images/Installation-search-icon.svg" class="installation-search-icon" *ngIf="!showUpload" />
        <div class="searchBar" *ngIf="!showUpload">
            <img src="../../assets/images/Iocn_Search.svg" class="searchIcon" />
            <input type="search" placeholder="Search installation ID, region, location or monthly footage"
                [ngModel]="searchText"
                (ngModelChange)="onSearchBarChange($event)"
                [ngModelOptions]="{ standalone: true }"
                type="text"
                class="search-bar"
                [ngClass]="{ removeBorderRadious: searchPopup }"
                (click)="inputClicked()"
                (blur)="blurOnSearch()"
                (clickOutside)="outClick()"
                bindLabel="id"
                bindValue="id"
                [multiple]="false"
                typeToSearchText="Search users"
            />
            <div class="searchPopup" *ngIf="searchPopup && !tagClicked" id="customScrollBar">
                <ul>
                    <li class="flex" (click)="showUploadBlock()"><span>Monthly footage</span> <span>OXAGON</span></li>
                    <li class="flex" (click)="showUploadBlock()"><span>Monthly footage</span> <span>TROJENA</span></li>
                    <li class="flex" (click)="showUploadBlock()"><span class="numberBlk">D-OX-0001</span> <span class="ellipsis">Excavation Non Dippable Rock</span> <span>OXAGON</span></li>
                    <li class="flex" (click)="showUploadBlock()"><span class="numberBlk">D-OX-0002</span> <span class="ellipsis">Excavation of Rock and Non-Rock Excavation of Rock and Non-Rock</span> <span>OXAGON</span></li>
                    <li class="flex" (click)="showUploadBlock()"><span class="numberBlk">D-OX-0003</span> <span class="ellipsis">Zone E South</span> <span>OXAGON</span></li>
                    <li class="flex" (click)="showUploadBlock()"><span class="numberBlk">D-OX-0004</span> <span class="ellipsis">High Security Fence And Wadi...</span> <span>OXAGON</span></li>
                    <li class="flex" (click)="showUploadBlock()"><span class="numberBlk">D-OX-0005</span> <span class="ellipsis">Offices And Base Camp  </span> <span>OXAGON</span></li>
                    <li class="flex" (click)="showUploadBlock()"><span class="numberBlk">D-OX-0006</span> <span class="ellipsis">Logistics Warehouse  </span> <span>OXAGON</span></li>
                    <li class="flex" (click)="showUploadBlock()"><span class="numberBlk">D-OX-0007</span> <span class="ellipsis">Zone E</span> <span>OXAGON</span></li>
                    <li class="flex" (click)="showUploadBlock()"><span class="numberBlk">D-OX-0008</span> <span class="ellipsis">Highway 55</span> <span>OXAGON</span></li>
                </ul>
            </div>
        </div>

        <div *ngIf="showUpload" class="customScrollBar">
            <div class="dropzoneContent filesAdded" *ngIf="files.length>0" ngx-dropzone accept="image/jpeg,image/jpg,image/png, .pdf, .docx, .xlsx" (change)="onSelect($event)">
                <img src="../../assets/images/add-copyright-golden.svg" />
                <h2>Drag and drop to add your assets <span>or click to select files</span></h2>
            </div>
            <div class="uanet_dropzone" [ngClass]="{'addHeight' : countFile }" ngx-dropzone accept="image/jpeg,image/jpg,image/png, .pdf, .docx, .xlsx" [expandable]="true" (change)="onSelect($event)">
                <ngx-dropzone-label>
                    <div class="dropzoneContent defaultTextUpload">
                        <img src="../../assets/images/add-copyright-golden.svg" />
                        <h2>Drag and drop to add your assets <span>or click to select files</span></h2>
                    </div>
                </ngx-dropzone-label>
                <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files" [file]="f" [removable]="true" (removed)="onRemove(f)">
                    <ngx-dropzone-label>
                        <div class="flex">
                            <span>{{ f.name }}</span>
                            <span *ngIf="!showInfo" class="gettingInfo" (click)="gettingInfo()">Getting info...</span>
                            <span *ngIf="showInfo" class="custom-date-picker">
                                <mat-form-field appearance="fill">
                                    <input matInput [matDatepicker]="picker" placeholder="10/17/2022" style="width: 100%; border-bottom: 0px solid #000;" (click)="picker.open()">
                                    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-datepicker #picker></mat-datepicker>
                                </mat-form-field>
                            </span>
                        </div>
                         <!-- ({{ f.type }}) -->
                    </ngx-dropzone-label>
                </ngx-dropzone-image-preview>
            </div>
        </div>

    </div>
    <div class="buttonBlock">
        <button *ngIf="!cancleBlock" class="cancel-btn" (click)="cancleShowHide()">Cancel</button>
        <button *ngIf="!cancleBlock" class="upload-btn">Start upload</button>

        <div *ngIf="cancleBlock">Are you sure you want to cancel the upload?</div>
        <div *ngIf="cancleBlock" class="cancleUpload">
            <button class="cancel-btn mr-20" (click)="closeModal()">Yes</button>
            <button class="cancel-btn" (click)="cancleShowHide()">Nevermind</button>
        </div>
    </div>
</div>